<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Einmal Server und zurück: HTTP, JSP und Servletsk</title>

        <link rel="shortcut icon" href="../favicon.svg" />
        <link rel="stylesheet" href="../style.css" />
        <script src="../learning-slides.bundle.js"></script>
    </head>
    <body class="slides invisible" data-title="Einmal Server und zurück: HTTP, JSP und Servlets" tabindex="0">
        <header>
            <h2>Inhaltsverzeichnis</h2>
            <p>
                Arthur Dent hatte schon lange keinen so schlechten Tag mehr wie den,
                an dem die Erde in die Luft flog. 🔥 Halt, Moment, Stopp. Falsches Buch. 📘
                Hier geht es darum, den Server in unsere Webentwicklung miteinzubeziehen.
                Wir schauen uns daher zunächst das HTTP-Protokoll an und lernen dann,
                wie Java auf dem Server damit umgeht.
            </p>
        </header>

        <!--
            ========================
            LERNZIELE DIESER EINHEIT
            ========================
        -->
        <section data-chapter data-background-color="rgb(210,190,210)">
            <h1>Lernziele dieser Einheit</h1>
            <article>
                <h3>Nach Abschluss dieser Einheit kannst du …</h3>
                <ul>
                    <li>
                        die Funktionsweise des <span class="dhbw-lightblue font-weight-bold">HTTP-Protokolls</span>
                        mitsamt der wichtigsten Befehle und Statuscodes wiedergeben.
                    </li>
                    <li>
                        den Datenaustausch zwischen Browser und Server aufzeichnen und analysieren.
                    </li>
                    <li>
                        die <span class="dhbw-lightblue font-weight-bold">drei Arten von Webanwendungen</span>
                        erklären und voneinander abgrenzen.
                    </li>
                    <li>
                        die Funktionsweise <span class="dhbw-lightblue font-weight-bold">serverseitigen Javacodes</span>
                        in einem <span class="dhbw-lightblue font-weight-bold">Webcontainer</span> verstehen.
                    </li>
                    <li>
                        <span class="dhbw-lightblue font-weight-bold">Java Server Pages</span> von anderen, ähnlich
                        funktionierenden Technologien abgrenzen.
                    </li>
                    <li>
                        eigene, kleine Java-Webanwendungen in NetBeans anlegen und testweise laufen lassen.
                    </li>
                    <li>
                        <span class="dhbw-lightblue font-weight-bold">Java Server Pages</span> als Templatesprache
                        für mehrere Seiten mit gleichem Layout verwenden.
                    </li>
                    <li>
                        den typischen Ablauf eines serverseitigen MVC-Webframeworks verstehen.
                    </li>
                    <li>
                        HTTP-Anfragen mit <span class="dhbw-lightblue font-weight-bold">Servlets</span>
                        abfangen und eine Antwort darauf generieren.
                    </li>
                    <li>
                        eine MVC-artige Aufgabenteilung mit Servlets und Java Server Pages realisieren.
                    </li>
                </ul>
                <span style="font-size: 240px; color: white;" class="dhbw-text-shadow" >🏁</span>
            </article>
            <aside>
                <p>
                    Jetzt geht die Vorlesung schon so lange und wir haben uns die ganze Zeit nur mit
                    dem Browser beschäftigt. Dass eine Webanwendung immer auch einen Webserver benötigt,
                    haben wir zwar gewusst, angesichts der vielfältigen Möglichkeiten des Browsers aber
                    nicht weiter vertieft. Aus diesem Grund haben wir es auch als gegeben angesehen,
                    dass die von uns erstellen Code-Dateien irgendwie via HTTP vom Server an den Browser
                    übertragen werden. Im Grunde genommen ist dagegen gar nichts einzuwenden, manche
                    Dinge verstehen wir aber erst, wenn wir das <b>HTTP-Protokoll</b> kennenlernen und
                    uns nun genauer anschauen.
                </p>
                <p>
                    Lange bevor die Browser so leistungsfähig waren, war die einzige Möglichkeit,
                    einer Webanwendung etwas Intelligenz beizubringen, diese auf dem Server
                    auszuprogrammieren. Heutzutage hat sich das zwar ein gutes Stück weit relativiert,
                    die wenigsten Anwendungen kommen aber vollständig ohne serverseitige Logik aus.
                    Nachdem wir das HTTP-Protokoll deshalb hinter uns gelassen haben, schauen wir
                    uns an, welche <b>drei Arten von Webanwendungen</b> es gibt und welche Vor-
                    und Nachteile sie alle haben. Danach wechseln wir dann endgültig auf den Server
                    und schauen uns die serverseitige <b>Webentwicklung mit Java</b> an.
                </p>
                <p>
                    Bevor wir jedoch so richtig in Java abtauchen, lernen wir erst den typischen
                    <b>MVC-Ablauf</b> kennen, den so gut wie jedes moderne, serverseitige Webframework
                    implementiert. Denn einerseits hilft uns das, unseren eigenen Java-Code besser
                    zu verstehen und zu strukturieren. Andererseits ist es aber auch genau dieses
                    Hintergrundwissen, dass dir später helfen wird, wenn du mal mit einer anderen
                    Programmiersprache unterwegs sein wirst.¹ Darauf aufbauend werden wir die
                    kennengelernten Konzepte dann auf Java übertragen und sehen, wie diese mit
                    <b>Servlets</b> und <b>Java Server Pages</b> elegant umgesetzt werden können.
                </p>
                <p>
                    ¹
                    <small>
                        Was angesichts der weiten Verbreiten anderer Sprachen wie Python, Go, Ruby
                        oder JavaScript sehr wahrscheinlich sein wird.
                    </small>
                </p>
                <p>
                    Es ist ein langer Weg. Bist du aber erst einmal am Ende angekommen, kannst du
                    endgültig von dir behaupten, einen guten Überblick über das Gebiet der Webentwicklung
                    zu haben.
                </p>
            </aside>
        </section>

        <!--
            ===============================
            DAS HYPERTEXT TRANSFER PROTOCOL
            ===============================
        -->
        <section data-chapter data-background-image="../trennfolie.jpg">
            <h1>Das HyperText Transfer Protocol</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Was passiert beim Aufruf einer Webseite?</h1>

            <article>
                <style>
                    #http-intro > div {
                        display: inline-block;
                        float: left;
                        box-sizing: border-box;

                        position: relative;
                        padding-bottom: 30%;
                    }

                    #http-intro .http-intro-w3  { width: 25%; }
                    #http-intro .http-intro-w4  { width: 34%; }
                    #http-intro .http-intro-w6  { width: 50%; }
                    #http-intro .http-intro-w8  { width: 66%; }
                    #http-intro .http-intro-w12 { width: 100%; }

                    #http-intro .img-thumbnail {
                        margin-right: 0.33em;
                        margin-bottom: 0.33em;
                        padding: 0;
                        overflow: hidden;

                        position: absolute;
                        top: 0;
                        left: 0;
                        right: 0;
                        bottom: 0;

                        border: 1px solid rgb(214, 214, 214);
                        border-radius: 0.3em;
                    }

                    #http-intro .img-thumbnail img {
                        position: absolute;
                        bottom: 0;
                        display: block;
                        width: 100%;
                    }

                    #http-intro .img-thumbnail p {
                        width: 100%;
                        padding: 0.2em;
                    }

                    .http-intro-hidden {
                        display: none !important;
                    }

                    .http-intro-next > .img-thumbnail {
                        background-color: rgb(223, 247, 252);
                        color: rgb(18, 84, 116);
                        font-size: 80%;

                        display: flex;
                        flex-direction: column;
                        justify-content: center;
                        align-items: center;

                        transition: filter 0.2s, box-shadow: 0.2s, opacity 0.75s;
                    }

                    .http-intro-next > .img-thumbnail:hover {
                        filter: contrast(90%);
                        box-shadow: 0 0 2px rgba(0,0,0,0.25);
                        cursor: pointer;
                    }

                    @media all and (max-width: 1500px) {
                        #http-intro > div {
                            display: block;
                            width: 100% !important;
                            padding-bottom: 0;
                            float: none;
                        }

                        #http-intro .img-thumbnail {
                            position: relative;
                        }

                        #http-intro .img-thumbnail img {
                            width: auto;
                            height: 100%;
                            position: relative;
                        }
                    }
                </style>

                <script>
                let http_intro_showNext = (event, classHidden) => {
                    let element = document.querySelector(`.${classHidden}`);
                    if (element != null) element.classList.remove(classHidden);

                    element = document.querySelector(`.${classHidden}`);
                    if (element === null) event.target.parentNode.remove(event.target);
                };
                </script>

                <div id="http-intro">
                    <div class="http-intro-w8">
                        <div class="img-thumbnail">
                            <p>
                                Unsere Geschichte beginnt mit einen Browser und einem Webserver.
                            </p>
                            <img src="http_intro_01.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w4 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Und einem Anwender, der eine URL eingibt.
                            </p>
                            <img src="http_intro_02.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w6 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Daraufhin baut der Browser eine Verbindung zum Server auf.
                            </p>
                            <img src="http_intro_03.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w6 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Und sendet ihm eine Anfrage, um die Seite abzurufen. In diesem Fall eine GET-Anfrage.
                            </p>
                            <img src="http_intro_04.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w12 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Der Server antwortet mit Statuscode 200 und dem Inhalt der Seite.
                            </p>
                            <img src="http_intro_05.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w3 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Sogleich macht sich der Browser daran die Seite darzustellen.
                            </p>
                            <img src="http_intro_06.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w3 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Doch halt! Die Seite enthält ja noch Stylesheets, Skripte und Bilder.
                            </p>
                            <img src="http_intro_07.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w6 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Diese muss der Browser alle vom Server abrufen.
                            </p>
                            <img src="http_intro_08.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w8 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Und der Server antwortet fleißig mit den gesuchten Dateien.
                            </p>
                            <img src="http_intro_09.svg" />
                        </div>
                    </div>
                    <div class="http-intro-w4 http-intro-hidden">
                        <div class="img-thumbnail">
                            <p>
                                Am Ende ist die Seite vollständig aufgebaut und die Verbindung wird getrennt.
                            </p>
                            <img src="http_intro_10.svg" />
                        </div>
                    </div>

                    <div class="http-intro-w3 http-intro-next" onclick="http_intro_showNext(event, 'http-intro-hidden')">
                        <div class="img-thumbnail">
                            <span style="font-size: 400%">🖼️</span>
                            Nächstes Bild anzeigen
                        </div>
                    </div>
                </div>

                <p style="clear: both;">
                    <small>
                        <small>
                            Bildnachweise:
                            <a href="https://pixabay.com/de/computer-schreibtisch-modern-ger%C3%A4t-154114/" target="_blank">Pixabay: OpenClipart-Vectors</a>,
                            <a href="https://pixabay.com/de/server-hardware-netzwerk-computer-37258/" target="_blank">Pixabay: Clker-Free-Vector-Images</a>,
                            <a href="https://pixabay.com/de/mann-gesch%C3%A4ft-cartoon-kaufmann-1351761/" target="_blank">Pixabay: ROverhate</a>,
                            <a href="https://pixabay.com/de/palette-farben-malerei-werkzeug-1817857/" target="_blank">Pixabay: Jsprzperez</a>
                        </small>
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Erinnerst du dich noch an den Anfang der Vorlesung, als wir uns die
                    Grundlagen des World Wide Web angeschaut haben? Dort gab es eine kleine
                    Übersicht, welche Techniken zusammen das Web ausmachen:
                </p>
                <ul>
                    <li>
                        <b>HTML:</b> Beschreibungssprache für Webseiten und Dokumente im
                        Web
                    </li>
                    <li>
                        <b>CSS:</b> Stylesheet-Sprache zur Gestaltung der HTML-Dateien
                    </li>
                    <li>
                        <b>JavaScript:</b> (Mehr oder weniger) einfache Skriptsprache
                        für die Clientlogik
                    </li>
                    <li>
                        <b>HTTP:</b> Übertragungsprotokoll für den Datenaustausch mit
                        dem Server
                    </li>
                    <li>
                        <b>WebSockets:</b> Zusätzliches, asynchrones Übertragungsprotokoll
                    </li>
                </ul>
                <p>
                    Das Meisten davon haben wir uns inzwischen genauer angeschaut, so dass
                    du heute sicher viel besser nachvollziehen kannst, warum diese Techniken
                    für das Web so wichtig sind. Aber halt, Moment mal. 🙋 Haben wir nicht
                    etwas vergessen? Ach ja richtig: Der Server! Den haben wir uns ja noch
                    gar nicht angeschaut. Und das, obwohl er für so viele Webanwendungen so
                    unheimlich wichtig ist. Zeit also, dass wir das hier nun nachholen.
                    Doch bevor wir das tun können, müssen wir erst eine ganz zentrale Frage
                    beantworten¹:
                </p>
                <p>
                    <i>
                        Wie funktioniert das eigentlich, wenn der Browser eine Seite
                        vom Server abruft?
                    </i>
                </p>
                <p>
                    Die Antwort darauf siehst du auf dieser Folie.
                </p>
                <p>
                    <small>
                        ¹ Nein, ausnahmsweise einmal nicht <a href="https://www.google.de/search?q=answer+to+life+the+universe+and+everything"
                        target="_blank">die Frage nach dem Leben, dem Universum und dem ganzen Rest.</a>
                        Die Antwort darauf kennen wir ja schon: 42.
                    </small>
                    🤖 🐬
                </p>
            </aside>
        </section>

        <section>
            <h1>Inhalt einer HTTP-Nachricht</h1>
            <article>
                <style>
                    #http-nachricht1 table {
                        color: rgb(80,80,80);
                    }

                    #http-nachricht1 td {
                        vertical-align: top;
                        padding: 0;
                        padding: 0 0.3em 0 0.3em;
                    }

                    #http-nachricht1 .http-nachricht {
                        font-family: monospace;
                        color: black;
                        background-color: rgb(240,240,240);
                    }

                    #http-nachricht1 .http-verb       { color: darkred; }
                    #http-nachricht1 .http-url        { color: darkgreen; }
                    #http-nachricht1 .http-version    { color: darkcyan; }
                    #http-nachricht1 .http-header     { color: darkblue; }
                    #http-nachricht1 .http-statuscode { color: darkred; }
                    #http-nachricht1 .http-statustext { color: darkgreen; }
                    #http-nachricht1 .http-optional   { color: red; }
                </style>
                <div id="http-nachricht1" style="margin-bottom: 1em;">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "http-nachricht1-anfrage-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#http-nachricht1-anfrage"
                                role          = "tab"
                                aria-controls = "http-nachricht1-anfrage"
                                aria-expanded = "true"
                            >
                                Anfrage
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "http-nachricht1-antwort-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#http-nachricht1-antwort"
                                role          = "tab"
                                aria-controls = "http-nachricht1-antwort"
                            >
                                Antwort
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Anfrage -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "http-nachricht1-anfrage"
                            role            = "tabpanel"
                            aria-labelledby = "http-nachricht1-anfrage-tab"
                        >
                            <table>
                                <tr>
                                    <td>
                                        Verb
                                    </td>
                                    <td>
                                        Pfad
                                    </td>
                                    <td>
                                        HTTP-Version
                                    </td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td class="http-nachricht http-verb">
                                        POST
                                    </td>
                                    <td class="http-nachricht http-url">
                                        /feedback/save.php
                                    </td>
                                    <td class="http-nachricht http-version">
                                        HTTP/1.1
                                    </td>
                                    <td>
                                        Anfragezeile
                                    </td>
                                </tr>
                                <tr>
                                    <td class="http-nachricht http-header" colspan="3" >
                                        Host: www.wpvs.de <br />
                                        Content-Type: text/json <br />
                                        Accept: text/json <br />
                                        Connection: keep-alive <br />
                                    </td>
                                    <td>
                                        Header Fields
                                        <span class="http-optional">¹</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="http-nachricht" colspan="3">
                                        &nbsp;
                                    </td>
                                    <td>
                                        Leerzeile
                                    </td>
                                </tr>
                                <tr>
                                    <td class="http-nachricht http-body" colspan="3">
                                        { <br />
                                        &nbsp;&nbsp;&nbsp;&nbsp;"course": "webprog", <br />
                                        &nbsp;&nbsp;&nbsp;&nbsp;"year": 2017, <br />
                                        &nbsp;&nbsp;&nbsp;&nbsp;"text": "Vielen Dank für diese tolle Vorlesung!" <br />
                                        }
                                    </td>
                                    <td>
                                        Request Body
                                        <span class="http-optional">¹</span>
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <!-- Antwort -->
                        <div
                            class           = "tab-pane fade"
                            id              = "http-nachricht1-antwort"
                            role            = "tabpanel"
                            aria-labelledby = "http-nachricht1-antwort-tab"
                        >
                        <table>
                            <tr>
                                <td>
                                    HTTP-Version
                                </td>
                                <td>
                                    Statuscode
                                </td>
                                <td>
                                    Bezeichnung
                                </td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="http-nachricht http-version">
                                    HTTP/1.1
                                </td>
                                <td class="http-nachricht http-statuscode">
                                    200
                                </td>
                                <td class="http-nachricht http-statustext">
                                    Ok
                                </td>
                                <td>
                                    Antwortzeile
                                </td>
                            </tr>
                            <tr>
                                <td class="http-nachricht http-header" colspan="3" >
                                    Content-Type: text/json <br />
                                    Content-Length: 55 <br />
                                    Date: Sun, 15 Oct 2017 20:18:17 GMT
                                </td>
                                <td>
                                    Header Fields
                                    <span class="http-optional">¹</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="http-nachricht" colspan="3">
                                    &nbsp;
                                </td>
                                <td>
                                    Leerzeile
                                </td>
                            </tr>
                            <tr>
                                <td class="http-nachricht http-body" colspan="3">
                                    { <br />
                                    &nbsp;&nbsp;&nbsp;&nbsp;"type": "success", <br />
                                    &nbsp;&nbsp;&nbsp;&nbsp;"message": "Feedback wurde gespeichert", <br />
                                    }
                                </td>
                                <td>
                                    Response Body
                                    <span class="http-optional">¹</span>
                                </td>
                            </tr>
                        </table>
                        </div>
                    </div>

                    <p>
                        <small>
                            <small>
                                <span class="http-optional">¹</span> Optional
                            </small>
                        </small>
                    </p>
                </div>

                <div id="http-nachricht2">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "http-nachricht2-verben-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#http-nachricht2-verben"
                                role          = "tab"
                                aria-controls = "http-nachricht2-verben"
                                aria-expanded = "true"
                            >
                                Verben
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "http-nachricht2-statuscodes-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#http-nachricht2-statuscodes"
                                role          = "tab"
                                aria-controls = "http-nachricht2-statuscodes"
                            >
                                Statuscodes
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "http-nachricht2-versionen-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#http-nachricht2-versionen"
                                role          = "tab"
                                aria-controls = "http-nachricht2-versionen"
                            >
                                HTTP-Versionen
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Verben -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "http-nachricht2-verben"
                            role            = "tabpanel"
                            aria-labelledby = "http-nachricht2-verben-tab"
                        >
                            <h2>GET</h2>
                            <ul>
                                <li>
                                    Inhalte vom Server abrufen
                                </li>
                                <li>
                                    Die Anfrage darf keinen Request Body enthalten
                                </li>
                                <li>
                                    Der Server antwortet mit dem gewünschten Inhalt oder einer Fehlerseite
                                </li>
                            </ul>

                            <h2>PUT</h2>
                            <ul>
                                <li>
                                    Neue Inhalte auf den Server hochladen
                                </li>
                                <li>
                                    Der Inhalt der Datei muss im Request Body mitgeschickt werden
                                </li>
                                <li>
                                    Der Server antwortet mit einer neuen HTML-Seite oder einer Fehlerseite
                                </li>
                            </ul>

                            <h2>POST</h2>
                            <ul>
                                <li>
                                    Daten zur Verarbeitung an den Server schicken
                                </li>
                                <li>
                                    Wird häufig verwendet, um vorhandene Daten auf dem Server zu aktualisieren
                                </li>
                                <li>
                                    Der Server antwortet mit einer neuen HTML-Seite oder einer Fehlerseite
                                </li>
                            </ul>

                            <h2>DELETE</h2>
                            <ul>
                                <li>
                                    Daten auf dem Server löschen
                                </li>
                                <li>
                                    Die Anfrage darf keinen Request Body enthalten
                                </li>
                                <li>
                                    Der Server antwortet mit einer neuen HTML-Seite oder einer Fehlerseite
                                </li>
                            </ul>

                            <h2>Seltener verwendete Verben</h2>
                            <p>
                                <tt>HEAD</tt>, <tt>OPTIONS</tt>, <tt>TRACE</tt>, <tt>PATCH</tt>
                            </p>
                        </div>
                        <!-- Statuscodes -->
                        <div
                            class           = "tab-pane fade"
                            id              = "http-nachricht2-statuscodes"
                            role            = "tabpanel"
                            aria-labelledby = "http-nachricht2-statuscodes-tab"
                        >
                            <h2>1xx: Informationen</h2>
                            <ul>
                                <li>
                                    Zwischenmeldung, um die Verbindung aufrecht zu erhalten
                                </li>
                                <li>
                                    Verhindert, dass die Verbindung durch einen Timeout vorzeitig beendet wird
                                </li>
                            </ul>

                            <h2>2xx: Erfolgreicher Abschluss</h2>
                            <ul>
                                <li>
                                    Die Anfrage wurde erfolgreich bearbeitet
                                </li>
                                <li>
                                    <tt>200 OK</tt>: Alles roger! Der Response Body beinhaltet die gewünschten Daten 👌🏼
                                </li>
                                <li>
                                    <tt>202 Accepted</tt>: Die Anfrage wurde empfangen, wird aber erst später bearbeitet
                                </li>
                                <li>
                                    …
                                </li>
                            </ul>

                            <h2>3xx: Umleitung</h2>
                            <ul>
                                <li>
                                    Es sind weitere Aktionen vom Client notwendig
                                </li>
                                <li>
                                    <tt>300 Multiple Choice</tt>: Die Anfrage war nicht eindeutig genug
                                </li>
                                <li>
                                    <tt>301 Moved Permanently</tt>: Umleitung des Clients auf eine andere URL
                                </li>
                                <li>
                                    …
                                </li>
                            </ul>

                            <h2>4xx: Client Fehler</h2>
                            <ul>
                                <li>
                                    Der Client hat etwas falsch gemacht; die Verarbeitung wird abgelehnt
                                </li>
                                <li>
                                    <tt>400 Bad Request</tt>: Ungültige bzw. fehlerhafte Anfrage
                                </li>
                                <li>
                                    <tt>401 Unauthorized</tt>: Keine Berechtigung für diese Aktion
                                </li>
                                <li>
                                    <tt>403 Forbidden</tt>: Die Aktion ist prinzipiell nicht erlaubt
                                </li>
                                <li>
                                    <tt>404 Not Found</tt>: Der gesuchte Inhalt wurde nicht gefunden
                                </li>
                                <li>
                                    …
                                </li>
                            </ul>

                            <h2>5xx: Server Fehler</h2>
                            <ul>
                                <li>
                                    Anfrage kann aufgrund eines Serverfehlers nicht bearbeitet werden
                                </li>
                                <li>
                                    <tt>500 Internal Server Error</tt>: Schwerer technischer Fehler, alles ist kaputt! 🗑️
                                </li>
                                <li>
                                    <tt>501 Not Implemented</tt>: Die Funktion ist nicht verfügbar
                                </li>
                                <li>
                                    <tt>503 Service Unavailable</tt>: Temporärer Fehler, bitte später nochmal versuchen
                                </li>
                                <li>
                                    …
                                </li>
                            </ul>
                        </div>
                        <!-- Versionen -->
                        <div
                            class           = "tab-pane fade"
                            id              = "http-nachricht2-versionen"
                            role            = "tabpanel"
                            aria-labelledby = "http-nachricht2-versionen-tab"
                        >
                            <h2>HTTP/0.9</h2>
                            <p>
                                Dies war die ursprüngliche von Tim Berners-Lee entwickelte HTTP-Version, wie sie 1991 veröffentlicht wurde.
                                In dieser Version gab es nur GET-Anfragen und noch keine Header Fields. Eine Anfrage bestand daher lediglich
                                aus einer Zeile:
                            </p>
                            <source-code language="http">
                                GET /index.html
                            </source-code>
                            <p>
                                Die Antwort des Servers beinhalte nur den Inhalt der abgerufenen Datei, sonst nichts.
                            </p>

                            <h2 style="margin-top: 1em;">HTTP/1.0</h2>
                            <p>
                                1996 wurde HTTP/1.0 veröffentlicht. Ab hier haben die HTTP-Nachrichten den oben gezeigten Aufbau.
                            </p>

                            <h2 style="margin-top: 1em;">HTTP/1.1</h2>
                            <p>
                                Diese Version wurde 1999 veröffentlicht und brachte weitreichende Verbesserungen. Unter anderem
                                die Möglichkeit, die Verbindung zwischen zwei Anfragen offen zu halten. Denn zuvor wurde die Verbindung
                                nach jeder Antwort automatisch getrennt. Da aber gerade der Verbindungsaufbau bei TCP/IP sehr langsam ist,
                                führte dies zu langen Wartezeiten, wenn mehrere Dateien vom selben Server abgerufen werden mussten.
                            </p>

                            <h2 style="margin-top: 1em;">HTTP/2</h2>
                            <p>
                                2015 wurde HTTP/2 offiziell verabschiedet. In seinen Grundzügen basiert es auf dem von Google entwickelten
                                SPDY-Protokoll. Die Inhalte der HTTP-Nachrichten sind weitgehend gleich geblieben, jedoch werden sie nicht
                                mehr in der oben gezeigten Textform kodiert. Stattdessen kommt ein kompaktes und in vielen Dingen eindeutiger
                                spezifiziertes Binärformat zum Einsatz.¹
                            </p>
                            <p>
                                Als weitere größere Neuerung führt HTTP/2 <b>Server Push</b> ein, wodurch der Server beim Abruf einer
                                HTML-Seite selbstständig weitere Dateien an den Browser schicken kann. Somit können Stylesheets, Skripte
                                und Bilder schon an den Browser geschickt werden, bevor dieser überhaupt weiß, dass er sie benötigen wird.
                            </p>
                            <p>
                                Stand 2017 hat sich HTTP/2 noch nicht gegen HTTP/1 durchgesetzt. Die meisten Webseiten verwenden weiterhin
                                HTTP/1. Man kann aber davon ausgehen, dass sich das im Laufe der Jahre ändern wird.
                            </p>
                            <p>
                                <small>
                                    <small>
                                        ¹ Beispielsweise war bei HTTP/1.x nie definiert, welche Bytefolge ein Zeilenende markiert.
                                    </small>
                                </small>
                            </p>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Das Übertragungsprotokoll, mit dem der Browser Daten vom Server abruft, heißt HTTP. Die Abkürzung steht eigentlich
                    für <b>HyperText Transfer Protocol</b>. Heute nennt es aber niemand mehr so. 🙂
                </p>

                <h2>Alles beginnt mit einer Anfrage</h2>
                <p>
                    HTTP ist wirklich ein simples Protokoll. Oder zumindest war es das einmal, als es erfunden wurde. Denn im
                    Laufe der Zeit wurde es natürlich immer mehr erweitert. In seinen Grundzügen ist es aber immer noch relativ
                    einfach: Der Browser stellt eine Verbindung zum Server her, sendet eine Anfrage und alle leben Glücklich
                    bis an ihr Lebensende. Die Anfrage beinhaltet dabei stets folgende Daten:
                </p>
                <ul>
                    <li>
                        <b>Verb:</b> Kennzeichnet die Aktion, die der Server ausführen soll. Zum Beispiel <tt>GET</tt> für
                        den Abruf einer Seite, oder <tt>PUT</tt> zum Hochladen einer Datei.
                    </li>
                    <li>
                        <b>Pfad:</b> Der Dateipfad, auf den sich die Anfrage bezieht. Oft handelt es sich einfach um eine
                        Datei, die der Server zurückschicken soll. Das muss aber nicht so sein, wie wir später noch sehen
                        werden.
                    </li>
                    <li>
                        <b>HTTP-Version:</b> In HTTP/1 dient dies hauptsächlich dazu, die Anfrage von der Antwort zu unterscheiden.
                        Bei der Anfrage steht die HTTP-Version in der ersten Zeile hinten, bei der Antwort ganz am Anfang. Darüber
                        hinaus steuert die HTTP-Version aber auch welche Header Fields (siehe nächster Punkt) die Gegenseite
                        verstehen muss.
                    </li>
                    <li>
                        <b>Header Fields (optional):</b> Dies sind Daten, die das Verhalten des Servers beeinflussen. Beispielsweise
                        wird hier die angeforderte Domain mitgeschickt, da heutzutage die meisten Webserver mehrere Domains mit derselben
                        IP-Adresse bedienen.
                    </li>
                    <li>
                        <b>Request Body (optional):</b> Hier können Daten an den Server geschickt werden, die dieser speichern
                        oder weiterverarbeiten soll. Ob der Server einen Request Body erwartet hängt dabei vom verwendeten
                        HTTP-Verb ab.
                    </li>
                </ul>
                <p>
                    Den genauen Aufbau einer HTTP-Anfrage sowie alle erlaubten Verben findest du auf der Folie. 📄
                </p>

                <h2>Und endet mit einer Antwort</h2>
                <p>
                    Die Antwort des Servers sieht im Prinzip genauso aus. Anstelle von Verb und Pfad beinhaltet sie jedoch einen
                    Statuscode, der darüber Auskunft gibt, ob die angeforderte Aktion ausgeführt werden konnte. Jede Antwort
                    beinhaltet daher folgende Daten:
                </p>
                <ul>
                    <li>
                        <b>HTTP-Version:</b> Die HTTP-Version, nach deren Regeln die Antwort aufgebaut ist
                    </li>
                    <li>
                        <b>Statuscode:</b> Nummerischer Code, der die Art der Antwort definiert
                    </li>
                    <li>
                        <b>Statustext:</b> Kurze, menschenverständliche Beschreibung zum Statuscode
                    </li>
                    <li>
                        <b>Header Fields:</b> Verschiedene Informationen über die gelieferten Daten, zum Beispiel das Datenformat
                        (<a href="https://de.wikipedia.org/wiki/Multipurpose_Internet_Mail_Extensions" target="_blank">MIME-Type</a>)
                        und die Anzahl Bytes
                    </li>
                    <li>
                        <b>Response Body:</b> Die eigentlichen abgerufenen Daten oder bei Fehlern eine HTML-Seite mit einer Fehlerbeschreibung
                    </li>
                </ul>
                <p>
                    Dabei ist der Statuscode schon so eine komische Sache, da er vom Browser eigentlich gar nicht angezeigt wird. 🙈
                    Verschiedene Statuscodes lösen aber ein unterschiedliches Verhalten beim Browser aus. Meistens zeigt der Browser
                    einfach nur den Inhalt des Responsy Body an. Der Statuscode 301 führt aber zum Beispiel dazu, dass der Browser
                    auf eine neue Seite weitergeleitet wird.
                </p>

                <h2>Über die verschiedenen HTTP-Versionen</h2>
                <p>
                    Heute sind eigentlich nur zwei HTTP-Versionen von Bedeutung: HTTP/1.1 und HTTP/2. HTTP/1.1 ist dabei zur Zeit
                    noch deutlich in der Überzahl, langfristig wird es aber wohl durch HTTP/2 abgelöst werden. Inhaltlich sind die
                    beiden Versionen nahezu identisch. Jedoch verwendet HTTP/2 nicht mehr die auf de Folie gezeigte Textform
                    sondern ersetzt diese durch eine effizientere binäre Darstellung. 🏎️
                </p>
            </aside>
        </section>

        <section>
            <h1>Zeit für eine Demonstration</h1>
            <article>
                <ul class="nav nav-tabs" role="tablist">
                    <li>
                        <a href="#http-demo-carousel" class="nav-link" data-slide="next">Nächstes Bild</a>
                    </li>
                    <li>
                        <a href="#http-demo-carousel" class="nav-link" data-slide="prev">Vorheriges Bild</a>
                    </li>
                    <li>
                        <a href="#http-demo-carousel" class="nav-link" data-slide-to="0">Nochmal von vorne</a>
                    </li>
                </ul>
                <div id="http-demo-carousel" class="carousel" data-interval="false">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <p>
                                Wir starten mit einer leeren Konsole. Du kennst doch die Konsole deines Betriebssystems, oder? 🐒
                            </p>
                            <img class="active d-block w-100" src="http_demo_01.gif" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Mit <tt>telnet</tt> stellen wir eine <a href="https://de.wikipedia.org/wiki/Socket_(Software)"
                                target="_blank">TCP/IP-Verbindung</a> zum Webserver her.
                            </p>
                            <img class="active d-block w-100" src="http_demo_02.gif" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Daraufhin meldet <tt>telnet</tt>, dass die Verbindung erfolgreich aufgebaut wurde und der Server wartet
                                auf Eingaben.
                            </p>
                            <img class="active d-block w-100" src="http_demo_03.gif" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Wir schicken eine <tt>GET</tt>-Anfrage zum Abruf der Datei <tt>/webprog/hallo-http.txt</tt>.
                            </p>
                            <img class="active d-block w-100" src="http_demo_04.gif" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Als nächstes folgt das Header Field <tt>Host</tt>, da es mehrere Domains mit derselben IP-Adresse gibt.
                            </p>
                            <img class="active d-block w-100" src="http_demo_05.gif" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Das war es dann auch schon mit den Header Fields. Zum Abschluss folgt deshalb eine Leerzeile.
                            </p>
                            <img class="active d-block w-100" src="http_demo_06.gif" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Und schon schickt uns der Server die Antwort und trennt die Verbindung.
                            </p>
                            <img class="active d-block w-100" src="http_demo_07.gif" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                So einfach ist das. 👍🏻 Allerdings nur mit HTTP/1, denn HTTP/2 kodiert die Nachrichten in einer kompakteren
                                Binärform.
                            </p>
                            <img class="active d-block w-25 m-auto" src="../finish.svg" />
                        </div>
                    </div>
                </div>

                <p>
                    <small>
                        <small>
                            Bildnachweis für das Endesymbol: <a href="https://pixabay.com/en/symbol-gui-internet-internet-page-2480163/" target="_blank">Pixabay: janf93</a>
                        </small>
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Um dir zu zeigen, dass HTTP wirklich so ein einfaches Protokoll ist, haben wir hier
                    eine kleine Demonstration für dich. 📺 Wir rufen eine Datei von einem Webserver ab
                    mit nichts weiter als der guten alten Konsole. Kein Browser, kein gar nichts. Nur
                    eine Konsole. Denn: Wo eine Konsole ist, ist ein Weg. 🏜️
                </p>

                <lsx-youtube video="Dgwyo6JNTDA"></lsx-youtube>
            </aside>
        </section>

        <section>
            <h1>Aufzeichnung der HTTP-Kommunikation im Browser</h1>
            <article>
                <ul class="nav nav-tabs" role="tablist">
                    <li>
                        <a href="#devtool-carousel" class="nav-link" data-slide="next">Nächstes Bild</a>
                    </li>
                    <li>
                        <a href="#devtool-carousel" class="nav-link" data-slide="prev">Vorheriges Bild</a>
                    </li>
                    <li>
                        <a href="#devtool-carousel" class="nav-link" data-slide-to="0">Nochmal von vorne</a>
                    </li>
                </ul>
                <div id="devtool-carousel" class="carousel slide" data-interval="false">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <p>
                                Wir starten mit den geöffneten Entwicklerwerkzeugen. <kbd>F12</kbd> und schon sind sie da.
                            </p>
                            <img class="active d-block w-100" src="devtool_01.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Dann rufen wir die Webseite auf, deren Ladezeiten wir untersuchen wollen.
                            </p>
                            <img class="active d-block w-100" src="devtool_02.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Der Browser zeichnet daraufhin die Kommunikation auf und zeigt folgende Übersicht an.
                                Jede Zeile entspricht einer abgerufenen Datei.
                            </p>
                            <img class="active d-block w-100" src="devtool_03.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Jede Zeile kann angeklickt werden, um sie näher zu untersuchen. Rechts sieht man
                                dann unter anderem die Header Fields der HTTP-Nachrichten.
                            </p>
                            <img class="active d-block w-100" src="devtool_04.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Der Inhalt der untersuchten Datei kann natürlich auch angezeigt werden.
                            </p>
                            <img class="active d-block w-100" src="devtool_05.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Ebenso wie eine Detailübersicht, wie viel Zeit wofür verwendet wurde.
                            </p>
                            <img class="active d-block w-100" src="devtool_06.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Unten links versteckt sich im Firefox die „Performanceanalyse”.
                            </p>
                            <img class="active d-block w-100" src="devtool_07.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Sie zeigt, wie lange die einzelnen Teile der Seite laden. Einmal wenn der
                                Browser die Dateien bereits kennt <i>(Primed Cache)</i> und einmal für
                                komplett neue Besucher <i>(Empty Cache)</i>.
                            </p>
                            <img class="active d-block w-100" src="devtool_08.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Hier endet unsere kleine Rundreise. Die Netzwerkanalyse des Browsers ist ein
                                äußerst nützliches Werkzeug.
                            </p>
                            <img class="active d-block w-25 m-auto" src="../finish.svg" />
                        </div>
                    </div>
                </div>

                <p>
                    <small>
                        <small>
                            Bildnachweis für das Endesymbol: <a href="https://pixabay.com/en/symbol-gui-internet-internet-page-2480163/" target="_blank">Pixabay: janf93</a>
                        </small>
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Jetzt, wo wir uns auch das HTTP-Protokoll angeschaut haben, bist du bereit für
                    das letzte große Geheimnis der Entwicklungswerkzeuge des Browsers: Die Netzwerkanalyse. 👑
                    Auf dieser Folie zeigen wir dir, wie du damit die gesamte HTTP-Kommunikation beim Aufruf
                    einer Seite aufzeichnen und untersuchen kannst. Damit kommst du langen Ladezeiten ganz
                    schnell auf die Spur. 🕑
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 1: Ein kleines HTTP-Quiz</h1>
            <article>
                <h2>Aufgabe 1.1: HTTP-Verben</h2>

                <p>
                    a) Was bedeutet das HTTP-Verb <tt>POST</tt>?
                </p>
                <ol>
                    <li>
                        Vorhandene Daten vom Server abrufen
                    </li>
                    <li>
                        Daten auf dem Server löschen (<tt>POST</tt> = Postpone)
                    </li>
                    <li>
                        Daten zur Verarbeitung an den Server schicken
                    </li>
                </ol>

                <p>
                    b) Was bedeutet das HTTP-Verb <tt>DELETE</tt>?
                </p>
                <ol>
                    <li>
                        Daten im Browser löschen
                    </li>
                    <li>
                        Daten auf dem Server löschen
                    </li>
                    <li>
                        Prüfen, ob die Daten gelöscht werden können
                    </li>
                </ol>

                <p>
                    c) Was bedeutet das HTTP-Verb <tt>GET</tt>?
                </p>
                <ol>
                    <li>
                        Daten vom Server abrufen, zum Beispiel eine HTML-Datei
                    </li>
                    <li>
                        Abrufen einer Dateiliste vom Server mit allen Dateien einer Webseite
                    </li>
                    <li>
                        Übertrag einer Datei vom Browser an den Server
                    </li>
                </ol>

                <h2>Aufgabe 1.2: Statuscodes</h2>

                <p>
                    a) Was bedeutet der Statuscode <tt>401 Unauthorized</tt>?
                </p>
                <ol>
                    <li>
                        Die gesuchten Daten wurden nicht gefunden
                    </li>
                    <li>
                        Die gewünschte Funktion wurde nicht ausprogrammiert
                    </li>
                    <li>
                        Der Anwender ist für die gewünschte Funktion nicht berechtigt
                    </li>
                </ol>

                <p>
                    b) Was bedeutet der Statuscode <tt>503 Service Unavailble</tt>?
                </p>
                <ol>
                    <li>
                        Es ist ein temporärer Fehler aufgetreten, bitte später nochmal versuchen
                    </li>
                    <li>
                        Es ist ein schwerwiegender Fehler aufgetreten
                    </li>
                    <li>
                        Die gesuchte Information wurde nicht gefunden
                    </li>
                </ol>

                <p>
                    c) Welcher Statuscode signalisiert, dass die Seite nicht gefunden wurde?
                </p>
                <ol>
                    <li>
                        <tt>200</tt>
                    </li>
                    <li>
                        <tt>301</tt>
                    </li>
                    <li>
                        <tt>404</tt>
                    </li>
                </ol>

                <p>
                    d) Welcher Statuscode wird geschickt, wenn alles okay ist?
                </p>
                <ol>
                    <li>
                        <tt>100</tt>
                    </li>
                    <li>
                        <tt>200</tt>
                    </li>
                    <li>
                        <tt>300</tt>
                    </li>
                </ol>

                <hr />

                <p style="transform: scaleY(-1) scaleX(-1); display: inline-block;">
                    <small>
                        <b>Lösung:</b> Aufgabe 1.1: 3, 2, 1; Aufgabe 1.2: 3, 1, 3, 2
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Wie immer an dieser Stelle: Ein kleines Quiz mit dem du prüfen kannst,
                    ob du dir die wichtigsten Dinge gemerkt hast. 🐧
                </p>
                <img src="../quiz.png" class="img-fluid d-block" style="max-width: 20em;"/>
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/illustrations/quiz-tiles-letters-red-game-test-2058883/" target="_blank">Pixabay: 905513</a>
                    </small>
                </p>
            </aside>
        </section>

        <!--
            =====================================
            SERVERSEITIGE WEBANWENDUNGEN MIT JAVA
            =====================================
        -->
        <section data-chapter data-background-image="../trennfolie.jpg">
            <h1>Serverseitige Webanwendungen mit Java</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Die drei Arten von Webanwendungen</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "webanwendungen-browser-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#webanwendungen-browser"
                                role          = "tab"
                                aria-controls = "webanwendungen-browser"
                                aria-expanded = "true"
                            >
                                Komplett im Browser
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "webanwendungen-server-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#webanwendungen-server"
                                role          = "tab"
                                aria-controls = "webanwendungen-server"
                            >
                                Komplett auf dem Server
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "webanwendungen-beides-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#webanwendungen-beides"
                                role          = "tab"
                                aria-controls = "webanwendungen-beides"
                            >
                                Sowohl als auch
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Komplett im Browser -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "webanwendungen-browser"
                            role            = "tabpanel"
                            aria-labelledby = "webanwendungen-browser-tab"
                        >
                            <img src="webanwendung_01.svg" class="d-block" style="width: 100%;" />

                            <p>
                                <small>
                                    <small>
                                        Bildnachweis für das Smartphone: <a href="https://pixabay.com/de/iphone-handy-apple-telefon-mobil-160307/" target="_blank">Pixabay: OpenClipart-Vectors</a>
                                    </small>
                                </small>
                            </p>

                            <ul>
                                <li>
                                    Die komplette Anwendungslogik befindet sich im Browser (JavaScript)
                                </li>
                                <li>
                                    Die Anwendung kann lokal komplett ohne Server ausgeführt werden
                                </li>
                                <li>
                                    Ein Server wird nur benötigt, wenn die Anwendung über das Internet aufrufbar sein soll
                                </li>
                                <li>
                                    Mit <a href="http://cordova.apache.org/" target="_blank">Phonegap/Cordova</a> erstelle mobile Anwendungen funktionieren auch nach diesem Prinzip
                                </li>
                            </ul>
                            <p style"color: darkred;">
                                So haben wir bisher gearbeitet.
                            </p>
                        </div>
                        <!-- Komplett auf dem Server -->
                        <div
                            class           = "tab-pane fade"
                            id              = "webanwendungen-server"
                            role            = "tabpanel"
                            aria-labelledby = "webanwendungen-server-tab"
                        >
                            <img src="webanwendung_02.svg" class="d-block" style="width: 100%;" />

                            <ul>
                                <li>
                                    <b class="dhbw-lightblue">Der Klassiker:</b> Die Anwendungslogik liegt komplett auf dem Server
                                </li>
                                <li>
                                    JavaScript kommt im Browser wenn überhaupt nur sehr sparsam zum Einsatz
                                </li>
                                <li>
                                    Stattdessen führt jede Aktion dazu, dass eine neue Seite vom Server geladen wird
                                </li>
                                <li>
                                    Der Server führt dabei die Anwendungslogik aus und generiert das anzuzeigende HTML
                                </li>
                            </ul>
                            <p style"color: darkred;">
                                Das schauen wir uns heute etwas genauer an.
                            </p>
                        </div>
                        <!-- Sowohl als auch -->
                        <div
                            class           = "tab-pane fade"
                            id              = "webanwendungen-beides"
                            role            = "tabpanel"
                            aria-labelledby = "webanwendungen-beides-tab"
                        >
                            <img src="webanwendung_03.svg" class="d-block" style="width: 100%;" />

                            <ul>
                                <li>
                                    <b class="dhbw-lightblue">Das Beste beider Welten:</b> Browser und Server beinhalten je einen Teil der Anwendungslogik
                                </li>
                                <li>
                                    Der HTML-Code der Seite kann zur Laufzeit generiert werden oder in einer einfachen HTML-Datei liegen
                                </li>
                                <li>
                                    Bei verschiedenen Aktionen werden mit JavaScript weitere Daten mit dem Server ausgetauscht
                                </li>
                                <li>
                                    Die empfangenen Daten werden dabei durch geschickte DOM-Manipulation sichtbar gemacht
                                </li>
                            </ul>
                            <p style="color: darkred;">
                                Das behandeln wir ein anderes mal.
                            </p>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Bevor wir nun anfangen können, den Server in unsere Webanwendungen miteinzubeziehen, musst du
                    erst verstehen, welche Möglichkeiten es hierfür gibt. Denn davon hängt maßgeblich ab, wie
                    die Webanwendungen aufgebaut sind und wie aufwändig ihre Programmierung möglicherweise wird.
                    Die zentrale Frage dabei ist einfach, welche Aufgabe der Server überhaupt haben soll:
                </p>
                <ol>
                    <li>
                        Die Anwendung läuft im Browser und benötigt keinen Server
                    </li>
                    <li>
                        Die Anwendung wird komplett serverseitig realisiert
                    </li>
                    <li>
                        Die Anwendung läuft im Browser, greift aber auf einzelne Serverfunktionen zurück
                    </li>
                </ol>
                <p>
                    Jeder dieser Ansätze hat seine ganz eigenen Vor- und Nachteile, weshalb es immer vom konkreten
                    Anwendungsfall abhängt, welcher gerade am besten geeignet ist. Doch auch dann hängt es immer
                    ein wenig von den eigenen Vorlieben ab, welcher Ansatz einem am leichtesten fällt. 🐊
                </p>

                <h2>Browser Apps ohne Server</h2>
                <p>
                    Eigentlich waren Browser ja nur als einfache Anzeigeprogramme konzipiert, mit denen man eben
                    im Web surfen und HTML-Seiten anzeigen konnte. Doch spätestens seit HTML5 hat sich die Idee
                    durchgesetzt, den Browser als <a href="https://xkcd.com/1367/" target="_blank">vollwertige
                    Laufzeitumgebung für universelle Apps</a> zu nutzen. Viele Webanwendungen laufen daher, sobald
                    sie einmal geladen wurden, allein im Browser mit keinerlei Server im Hintergrund, weshalb dem
                    JavaScript-Code hier eine besondere Bedeutung zukommt. Dass dabei auch beeindruckende Ergebnisse
                    möglich sind, zeigen folgende Beispiele:
                </p>
                <ul>
                    <li>
                        <a href="https://dx7.vstforx.de/" target="_blank">Yamaha DX7 Online-Emulation</a>
                    </li>
                    <li>
                        <a href="http://www.playmapscube.com/" target="_blank">Google Maps Cube</a>
                    </li>
                    <li>
                        <a href="http://www.ellison.rocks/clumsy-bird/" target="_blank">Clumsy Bird</a>
                    </li>
                </ul>
                <p>
                    Mit <a href="http://cordova.apache.org/" target="_blank">Phonegap bzw. Cordova</a> entwickelte
                    Mobile Apps 📱 funktionieren übrigens genauso. Es handelt sich dabei lediglich um HTML-, CSS- und
                    JavaScript-Dateien, die in einer Art Vollbildbrowser angezeigt werden.
                </p>

                <h2>Komplett serverseitige Webanwendungen</h2>
                <p>
                    Dies ist die klassische Art von Webanwendungen, wie es sie schon in den frühen Tagen des Webs gab,
                    als noch die Dinosaurier die Welt beherrschten. 🐲 Der Browser zeigt hier lediglich den HTML-Code
                    an, den er vom Server geschickt bekommt. Jeder Mausklick bzw. generell jede Aktion des Anwenders
                    führt dazu, dass eine neue Seite geladen wird, weshalb browserseitig kein oder nur sehr wenig
                    JavaScript zum Einsatz kommt. Denn im Prinzip wird JavaScript hier auch gar nicht benötigt, da der
                    Browser bei jedem Klick auf einen Link oder beim Abschicken eines Formulars ohnehin ganz von alleine
                    eine neue Seite anfordert.
                </p>
                <p>
                    Der angezeigte HTML-Code wird in der Regel zur Laufzeit vom Server generiert. Jedes mal, wenn der
                    Browser eine Seite anfordert und hierfür eine HTTP-Anfrage schickt, führt der Server die gewünschte
                    Aktion aus und erzeugt eine neue HTML-Seite, in der das Ergebnis dargestellt wird.
                </p>

                <h2>Der Server als Funktionsbibliothek</h2>
                <p>
                    Auch wenn viele Webframeworks noch aus der Welt der rein serverseitigen Webanwendungen stammen,
                    setzt sich heute immer mehr eine strikte Trennung zwischen dem Frontend und dem Backend einer
                    Webanwendung durch. 🔪
                </p>
                <p>
                    Der Browser ist hierbei das Frontend und führt eine Webseite bestehend aus
                    HTML, CSS und JavaScript-Code aus. Diese muss natürlich erst vom Server geladen werden, weshalb
                    manche Anwendungen den HTML-Code, wie bei einer herkömmlichen Webanwendung, vom Server dynamisch
                    erzeugen lassen. Meistens wird darauf aber verzichtet, um Frontend und Backend unabhängig voneinander
                    und häufig auch in getrennten Teams entwickeln zu können.
                </p>
                <p>
                    Hauptaufgabe des Servers ist es in diesem Fall, Funktionen bereitzustellen, die der Browser
                    via JavaScript aufrufen kann (vgl. <a href="https://de.wikipedia.org/wiki/Ajax_(Programmierung)" target="_blank">
                    AJAX</a> und <a href="https://de.wikipedia.org/wiki/WebSocket" target="_blank">WebSockets</a>).
                    Das automatische Neuladen der Seite soll dabei möglichst vermieden werden, weshalb du alle
                    Aufrufe in JavaScript selbst ausprogrammieren musst. Dabei musst du dann auch die empfangenen
                    Antwortdaten durch geschickte DOM-Manipulation in der Seite sichtbar machen.
                </p>
                <p>
                    Vorteil dieses Ansatzes ist, dass die serverseitigen Funktionen aus unterschiedlichen Frontends
                    heraus konsumiert werden können, beispielsweise einer Webseite und einer Desktopanwendung. Auch
                    kann eine so entwickelte Webanwendung längere Offlinezeiten überstehen, solange sie keine Verbindung
                    zum Server benötigt. Hierfür muss allerdings eine gute Schnittstelle zwischen Client und Server
                    definiert werden¹, was nicht immer ganz einfach ist. Nächstes Semester werden wir mit
                    <a href="https://de.wikipedia.org/wiki/SOAP" target="_blank">SOAP-</a> und
                    <a href="https://de.wikipedia.org/wiki/Representational_State_Transfer" target="_blank">REST</a>-Webservices
                    jedoch zwei weit verbreitete Techniken kennenlernen. 🎭
                </p>
                <p>
                    <small>
                        ¹ Welche Funktionen bietet der Server? Wie werden sie aufgerufen? Welche Daten müssen dabei
                        an den Server übertragen werden? Mit welchen Daten antwortet er? In welcher Reihenfolge sind
                        die Funktionen aufzurufen? Und so weiter …
                    </small>
                </p>
            </aside>
        </section>

        <section>
            <h1>Wer die Wahl hat, hat die Qual</h1>
            <article>
                <h2>Statische Dateien vs. Javacode</h2>
                <div style="margin-bottom: 1em;">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "java-laufzeit-statisch-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#java-laufzeit-statisch"
                                role          = "tab"
                                aria-controls = "java-laufzeit-statisch"
                                aria-expanded = "true"
                            >
                                Statische Dateien
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "java-laufzeit-dynamisch-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#java-laufzeit-dynamisch"
                                role          = "tab"
                                aria-controls = "java-laufzeit-dynamisch"
                            >
                                Javacode
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Statische Dateien -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "java-laufzeit-statisch"
                            role            = "tabpanel"
                            aria-labelledby = "java-laufzeit-statisch-tab"
                        >
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md">
                                        1. Der Webserver empfängt eine HTTP-Anfrage.
                                    </div>
                                    <div class="col-md">
                                        2. Da sich die Anfrage auf eine einfache Datei bezieht, sucht der Server die Datei im Dateisystem.
                                    </div>
                                    <div class="col-md">
                                        3. Kann der Server die Datei finden, schickt er als Antwort den Statuscode 200 sowie den Inhalt der Datei.
                                    </div>
                                </div>
                            </div>
                            <img src="java_webserver_01.svg" class="d-block" style="width: 100%; margin: 0 auto; margin-top: 1em; margin-bottom: 1em;" />
                        </div>
                        <!-- Javacode -->
                        <div
                            class           = "tab-pane fade"
                            id              = "java-laufzeit-dynamisch"
                            role            = "tabpanel"
                            aria-labelledby = "java-laufzeit-dynamisch-tab"
                        >
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md">
                                        1. Der Webserver empfängt eine HTTP-Anfrage.
                                    </div>
                                    <div class="col-md">
                                        2. Dieses mal bezieht sich die Anfrage auf ein <b>Servlet</b> oder eine <b>Java Server Page</b>.
                                    </div>
                                    <div class="col-md">
                                        3. Der Server führt das Servlet bzw. die Java Server Page aus, um eine Antwort zu generieren.
                                    </div>
                                </div>
                            </div>
                            <img src="java_webserver_02.svg" class="d-block" style="width: 100%; margin: 0 auto; margin-top: 1em; margin-bottom: 1em;" />
                        </div>
                    </div>
                </div>

                <h2>Webcontainer vs. eingebetter Webserver</h2>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "java-server-webcontainer-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#java-server-webcontainer"
                                role          = "tab"
                                aria-controls = "java-server-webcontainer"
                                aria-expanded = "true"
                            >
                                Externer Webcontainer
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "java-server-eingebettet-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#java-server-eingebettet"
                                role          = "tab"
                                aria-controls = "java-server-eingebettet"
                            >
                                Eingebetteter Webserver
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Externer Webcontainer -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "java-server-webcontainer"
                            role            = "tabpanel"
                            aria-labelledby = "java-server-webcontainer-tab"
                        >
                            <p>
                                Die klassische Form der Webentwicklung in Java. Ein ein Java geschriebener Webserver
                                (der sogenannte <b>Webcontainer</b> bzw. <b>Applikationsserver</b>) beherbergt eine
                                beliebige Anzahl an Webanwendungen. Die Webanwendungen müssen hierfür als <b>Webarchive</b>
                                verpackt und im Server <b>deployed</b> werden (Deployment = Die Webanwendung mit dem Server
                                zusammenbringen).
                            </p>
                            <p>
                                Historisch bedingt sind Webcontainer große, schwergewichtige Applikationsserver, die viele
                                Ressourcen benötigen und je nach Einsatzgebiet umfangreich konfiguriert werden wollen.
                                Aber es ist wie mit jedem Schlachtschiff: 🚢 Einmal in Dienst gestellt verrichtet es viele Jahre
                                lang seine Arbeit.
                            </p>
                            <img src="java_webcontainer.svg" class="d-block img-responsive" style="margin-top: 1em; margin-bottom: 1em;" />
                            <p>
                                Bekannte Applikationsserver sind:
                                <a href="http://tomcat.apache.org/" target="_blank">Tomcat</a>,
                                <a href="https://www.eclipse.org/jetty/" target="_blank">Jetty</a>,
                                <a href="https://javaee.github.io/GlassFish/" target="_blank">GlassFish</a>,
                                <a href="http://wildfly.org/" target="_blank">Wildfly</a>.
                            </p>
                        </div>
                        <!-- Eingebetteter Webserver -->
                        <div
                            class           = "tab-pane fade"
                            id              = "java-server-eingebettet"
                            role            = "tabpanel"
                            aria-labelledby = "java-server-eingebettet-tab"
                        >
                            <p>
                                Moderne Alternative zu herkömmlichen Webcontainern: Bring Your Own Webserver. Bei der Webanwendung
                                handelt es sich um ein gewöhnliches Javaprogramm mit einem integrierten Webserver. Dieser Ansatz
                                kommt vor allem bei <a href="https://jaxenter.de/was-sind-microservices-40571" target="_blank">Microservices</a>
                                und <a href="https://12factor.net/de/" target="_blank">12-Faktor-Apps</a> zum Einsatz.
                            </p>
                            <p>
                                Natürlich musst du nicht gleich einen eigenen Webserver programmieren. Hierfür gibt es fertige
                                Bibliotheken, die du in deine Anwendung einbauen kannst. Im Vergleich zu einer herkömmlichen
                                Webanwendung ist sie dadurch viel einfacher in Betrieb zu nehmen und verbraucht in der Regel
                                auch weniger Ressourcen. 🛥️
                            </p>
                            <img src="java_eingebetteter_webserver.svg" class="d-block img-responsive" style="margin-top: 1em; margin-bottom: 1em;" />
                            <p>
                                Bekannte HTTP-Server-Bibliotheken sind:
                                <a href="https://docs.oracle.com/javase/9/docs/api/index.html?jdk.httpserver-summary.html" target="_blank">Die Klasse HttpServer</a>,
                                <a href="https://github.com/NanoHttpd/nanohttpd" target="_blank">NanoHTTPD</a>,
                                <a href="http://undertow.io/" target="_blank">Undertow</a>,
                                <a href="http://sparkjava.com/" target="_blank">Spark</a>,
                                <a href="https://www.eclipse.org/jetty/" target="_blank">Jetty</a>.
                            </p>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <h2>Statisch oder dynamisch?</h2>
                <p>
                    Alle Webseiten, die wir bisher erstellt haben, brauchen keinen besonderen Webserver.
                    Ein einfacher Webserver, der einfach nur die von uns erstellten Dateien bereitstellen
                    kann, reicht völlig aus. Denn bisher haben wir uns ja nur mit dem Browser beschäftigt
                    und dabei die Serverseite völlig außer Acht gelassen. Das wollen wir an dieser Stelle
                    daher ändern und uns im Folgenden mit der Entwicklung serverseitiger Webanwendungen
                    mit Java beschäftigen. Wir wollen hier also das genaue Gegenteil tun und dadurch den
                    Browser links liegen lassen, damit wir uns voll und ganz auf den Server konzentrieren
                    können.
                </p>
                <p>
                    Natürlich gibt es auch für den Serverteil einer Webanwendung eine große Anzahl an
                    verfügbaren Programmiersprachen, Vorgehensweisen und schlüsselfertigen Frameworks.
                    Das eine universelle Framework auszuwählen ist daher fast unmöglich. In unserem
                    Fall liegt es jedoch nahe, tatsächlich Java zu verwenden, da diese Sprache durch
                    jedem bekannt ist und wir dann im nächsten Semester in Verteilte Systeme wieder
                    darauf zurückkommen können. Die hier vorgestellten Prinzipien lassen sich aber
                    ohne Weiteres auch auf die meisten anderen Sprachen und Frameworks übertragen.
                </p>
                <p>
                    In allen Fällen läuft es immer darauf hinaus, dass der Server eine Möglichkeit haben muss,
                    die HTML-Seite, die er an den Browser schickt, entweder komplett erst zur Laufzeit zu
                    generieren oder diese zumindest um dynamische Inhalte zu erweitern. Java verwendet hierfür
                    so genannte <b>Servlets</b> zur komplett dynamischen Generierung einer Antwort sowie
                    <b>Java Server Pages</b> als HTML-Schablonen mit dynamischen Inhalten. Beide Techniken
                    und auch ihr sinnvolles Zusammenspiel schauen wir uns auf den folgenden Folien daher an.
                </p>

                <h2>Auf die Verpackung kommt es an</h2>
                <p>
                    Historisch bedingt werden Webanwendungen oft so entwickelt, dass sie in einem bereits
                    vorgefertigten Webserver zum Laufen gebracht werden. Man installiert also einen Webserver
                    auf seiner Maschine und richtet ihn so ein, dass er die Quellcodes der Webanwendung
                    und ausführen kann. Dieser Ansatz kommt auch in Java zum Einsatz. Im Gegensatz zu anderen
                    Sprachen wird hierfür jedoch ein spezieller Webserver benötigt, der für die Ausführung
                    von Javacode vorbereitet ist und daher in der Regel selbst in Java geschrieben wurde.
                    In der Fachsprache haben sich die beiden Begriffe <b>Webcontainer</b> und <b>Applikationsserver</b>
                    dafür durchgesetzt.
                </p>
                <p>
                    Webcontainer sind allerdings tendenziell ressourcenhungrige Programme auch der Umstand, dass
                    sie erst konfiguriert werden müssen und die Konfiguration auch getrennt von der eigentlichen
                    Webanwendung erfolgt, sind häufig Argumente, die gegen ihren Einsatz sprechen. Moderne Frameworks
                    gehen daher häufig einen anderen Weg, den man auch mit „Bring Your Own Webserver” umschreiben
                    könnte. Anstatt die Webanwendung irgendwie besonders zu verpacken und in einem separaten Server
                    zum Laufen zu bringen, lässt man die Anwendung einfach ihren eigenen Webserver mitbringen.
                    Die Webanwendung ist dann nicht viel mehr als ein ganz normales Javaprogramm, das wie gewohnt
                    auf der Konsole gestartet wird, einen TCP/IP-Port zum Empfang von HTTP-Anfragen öffnet und diese
                    verarbeitet. Die Inbetriebnahme wird dadurch deutlich vereinfacht und auch der Ressourcenverbrauch
                    ist in der Regel viel niedriger. In der Vorlesung werden wir uns damit allerdings nicht weiter
                    beschäftigen, da der andere Weg in Java weniger Programmierung erfordert. Umgebungen wie
                    <a href="https://nodejs.org/" target="_blank">node.js</a> kennen jedoch nur diese Vorgehensweise.
                </p>
            </aside>
        </section>

        <section>
            <h1>Unsere erste Java Server Page</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "jsp-quellcode-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#jsp-quellcode"
                                role          = "tab"
                                aria-controls = "jsp-quellcode"
                                aria-expanded = "true"
                            >
                                Quellcode
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "jsp-vorschau1-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#jsp-vorschau1"
                                role          = "tab"
                                aria-controls = "jsp-vorschau1"
                            >
                                Der erste Aufruf
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "jsp-vorschau1-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#jsp-vorschau2"
                                role          = "tab"
                                aria-controls = "jsp-vorschau2"
                            >
                                Nachdem das Formular abgeschickt wurde
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Quellcode -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "jsp-quellcode"
                            role            = "tabpanel"
                            aria-labelledby = "jsp-quellcode-tab"
                        >
                            <source-code language="html">
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;JSP-Beispiel&lt;/title&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;form method="post"&gt;
                                            Name: &lt;input name="dein_name"/&gt;
                                            Alter: &lt;input name="dein_alter"/&gt;
                                            &lt;input type="hidden" name="aktion" value="zeigen"/&gt;
                                            &lt;input type="submit" value="Los!"/&gt;
                                        &lt;/form&gt;

                                        &lt;!-- Alles zwischen &lt;% und %&gt; ist Javacode --&gt;
                                        &lt;% if (request.getMethod().equals("POST")) { %&gt;
                                            &lt;h2&gt;Bisherige Eingabe&lt;/h2&gt;
                                            &lt;b&gt;Name: &lt;/b&gt; &lt;%= request.getParameter("dein_name") %&gt;
                                            &lt;br/&gt;
                                            &lt;b&gt;Alter:&lt;/b&gt; &lt;%= request.getParameter("dein_alter") %&gt;
                                            &lt;br/&gt;
                                        &lt;% } %&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- Der erste Aufruf -->
                        <div
                            class           = "tab-pane fade"
                            id              = "jsp-vorschau1"
                            role            = "tabpanel"
                            aria-labelledby = "jsp-vorschau1-tab"
                        >
                            <p>
                                Der HTML-Code aus Sicht des Browsers:
                            </p>

                            <img src="jsp_01.png" class="d-block img-responsive" style="margin-bottom: 1em;" />

                            <source-code language="html">
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;JSP-Beispiel&lt;/title&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;form method="post"&gt;
                                            Name: &lt;input name="dein_name"/&gt;
                                            Alter: &lt;input name="dein_alter"/&gt;
                                            &lt;input type="hidden" name="aktion" value="zeigen"/&gt;
                                            &lt;input type="submit" value="Los!"/&gt;
                                        &lt;/form&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- Nachdem das Formular abgeschickt wurde -->
                        <div
                            class           = "tab-pane fade"
                            id              = "jsp-vorschau2"
                            role            = "tabpanel"
                            aria-labelledby = "jsp-vorschau2-tab"
                        >
                            <p>
                                Der neue HTML-Code aus Sicht des Browsers:
                            </p>

                            <img src="jsp_02.png" class="d-block img-responsive" style="margin-bottom: 1em;" />

                            <source-code language="html">
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;JSP-Beispiel&lt;/title&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;form method="post"&gt;
                                            Name: &lt;input name="dein_name"/&gt;
                                            Alter: &lt;input name="dein_alter"/&gt;
                                            &lt;input type="hidden" name="aktion" value="zeigen"/&gt;
                                            &lt;input type="submit" value="Los!"/&gt;
                                        &lt;/form&gt;

                                        &lt;h2&gt;Bisherige Eingabe&lt;/h2&gt;
                                        &lt;b&gt;Name: &lt;/b&gt; Richard Löwneherz
                                        &lt;br/&gt;
                                        &lt;b&gt;Alter:&lt;/b&gt; 27
                                        &lt;br/&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Schon früh, bereits Mitte der 1990er-Jahre, beschäftigten sich Webentwickler mit dem
                    Problem, dynamische Webseiten zu schreiben, die mehr als nur den bloßen Inhalt einer
                    HTML-Datei darstellen können. Denn schnell hat man gemerkt, dass beispielsweise die
                    Veröffentlichung eines Warenkatalogs im World Wide Web im Grunde genommen aus nichts
                    weiter bestand, als eine Vielzahl gleich aufgebauter HTML-Dateien mit fast gleichen
                    Inhalten zu erstellen. Das war sehr zeitaufwändig und – wen wundert es? – sehr
                    fehleranfällig. 🤬 Von nachträglichen Anpassungen an Inhalt und Aufbau der Seiten ganz
                    zu schweigen.

                    Eine Trennung von Inhalt und Darstellung musste also her, was in den Anfangstagen zunächst
                    mit statischen Webseitengenratoren erreicht werden konnte. Denn dadurch konnte man immerhin
                    anhand einer HTML-Vorlage (heute würde man dazu Template sagen) und davon unabhängigen
                    Inhaltsdateien alle benötigten HTML-Dateien automatisch erstellen lassen.¹
                </p>
                <p>
                    ¹
                    <small>
                        Programme wie
                        <a href="https://blog.getpelican.com/" target="_blank">Pelican</a>,
                        <a href="https://gohugo.io/" target="_blank">Hugo</a>,
                        <a href="https://www.mkdocs.org/" target="_blank">mkdocs</a> oder
                        <a href="http://www.sphinx-doc.org/en/master/" target="_blank">Sphinx</a>
                        arbeiten auch heute noch nach diesem Prinzip. Man könnte sagen, dass statische
                        Webseitengeneratoren wieder modern geworden sind. Es kommt halt doch alles wieder!
                    </small>
                </p>
                <p>
                    Schnell wurde jedoch klar, dass das alleine noch nicht reichte und stattdessen der Server
                    eine aktivere Rolle spielen musste. Es musste irgendwie möglich sein, die finalen HTML-Dateien
                    erst im Moment ihrer Auslieferung durch den Server generieren zu lassen, so dass auch sich
                    ständig ändernde Daten, wie zum Beispiel die Inhalte einer SQL-Datenbank, im Web dargestellt
                    werden konnten. Dabei kam man dann relativ schnell darauf, dass es im Grunde genommen zwei
                    Möglichkeiten gibt, dies zu erreichen: Entweder man ersetzt die HTML-Dateien komplett durch
                    serverseitig ausgeführten Quellcode, der eine HTTP-Anfrage empfängt und dann irgendwie daraus
                    eine HTTP-Antwort ableitet, oder – und das schauen wir uns auf dieser Folie an – man bleibt
                    bei den HTML-Dateien, baut aber kleine Code-Inseln darin ein, die es dem Server ermöglichen,
                    einzelne Inhalte nachträglich zu ergänzen. Heute nennen wir diese Art von „HTML-Dateien mit
                    serverseitigen Code-Inseln” <b>aktive Serverseiten</b>, in Anlehnung an all die Frameworks
                    und Produkte, die diese Technologie implementieren:
                </p>
                <ul>
                    <li>
                        <b>PHP:</b> Der Vorreiter aller aktiven Serverseiten und das einzige Produkt, dessen
                        Abkürzung keine „Server Pages“ enthält. PHP stand ursprünglich für „Personal Homepage
                        Processor”.
                    </li>
                    <li>
                        <b>JSP:</b> Java Server Pages, also die Javavariante aktiver Serverseiten.
                    </li>
                    <li>
                        <b>ASP:</b> Active Server Pages, oder was Java kann, kann Microsoft schon lange.
                        Unter dem Namen ASP.net lebt die Technologie in der .NET-Plattform weiter.
                    </li>
                    <li>
                        <b>BSP:</b> Wenig überraschend dreht sich bei SAP alles ums Geschäft, weshalb BSP
                        hier auch für „Business Server Pages” steht. Die Technologie wird allerdings
                        schon lange nicht mehr für neue Entwicklungen genutzt.
                    </li>
                </ul>
                <p>
                    Auf der Folie siehst du nun, wie eine einfache Java Server Page aussehen kann.
                    Das Beispiel ist nicht sehr beeindruckend. 💤🛌 Es zeigt aber trotzdem, wie
                    Java Server Pages funktionieren und wie ihre Syntax grob aufgebaut ist. Wenn
                    du genau hinsiehst, erkennst du, dass es sich um altbekannte HTML-Dateien
                    (oder besser gesagt um beliebige Textdateien) handelt, deren Inhalte nahezu
                    unverändert an den Browser geschickt wird. Zwischen den Zeilen gibt es aber
                    immer mal wieder gekennzeichnete Bereiche mit Javacode, der bereits auf dem
                    Server ausgeführt wird. Er wird folgende Elemente gekennzeichnet:
                </p>
                <dl>
                    <dt>
                        <src-code language="html">
                            &lt;%@page … %&gt;
                        </src-code>
                    </dt>
                    <dd>
                        Hierbei handelt es sich um die <code>@page</code>-Direktive. Sie teilt Java mit,
                        welchen Zeichensatz die Datei verwendet und welches Dateiformat wir an den Browser
                        schicken wollen.¹
                    </dd>

                    <dt>
                        <src-code language="html">
                            &lt;% … %&gt;
                        </src-code>
                    </dt>
                    <dd>
                        Diese Zeichenfolge kann beliebigen Javacode umschließen. Anstelle der Punkte könnten
                        hier zum Beispiel <code>if</code>-Abfragen, <code>while</code>-Schleifen und alles
                        mögliche andere stehen.
                    </dd>

                    <dt>
                        <src-code language="html">
                            &lt;%= … %&gt;
                        </src-code>
                    </dt>
                    <dd>
                        Auch diese Zeichen umschließen fast beliebigen Javacode. Jedoch muss der Code einen
                        Wert zurückliefern, der an dieser Stelle in die HTTP-Antwort eingebaut wird. Dadurch
                        lassen sich ganz einfach dynamische Inhalte erzeugen, wo zum Beispiel ein Wert aus
                        einer Datenbanktabelle übernommen wird.
                    </dd>

                    <dt>
                        <src-code language="html">
                            &lt;%-- … --%&gt;
                        </src-code>
                    </dt>
                    <dd>
                        Kennzeichnet einen Kommentar. Im Gegensatz zu einfachen HTML-Kommentaren werden diese
                        Kommentare schon vom Server ausgefiltert und gar nicht erst an den Browser geschickt,.
                    </dd>
                </dl>

                <p>
                    <small>
                        ¹ Hier haben wir es natürlich mit einer HTML-Datei zu tun.
                    </small>
                </p>

                <h2>Was passiert hier?</h2>
                <p>
                    Wenn der Browser die Seite aufruft, lädt Java die JSP-Datei und durchsucht sie nach Javacode.
                    Java geht dabei ganz systematisch von links oben nach rechts unten vor. So lange dabei kein
                    Javacode gefunden wird, werden alle Inhalte unverändert an den Browser geschickt. Stolpert
                    Java jedoch über ein Stück Javacode, führt es diesen erst aus.
                </p>
                <p>
                    Aus diesem Grund werden alle HTML-Elemente ab der <code>if</code>-Anweisung bis zum
                    <code><% } %></code> zunächst nicht an den Browser geschickt. Denn die <code>if</code>-Bedingung
                    prüft, ob die Seite mit der <tt>POST</tt>-Anfrage aufgerufen wurde. Der normale Aufruf einer
                    Seite führt aber immer zu einer <tt>GET</tt>-Anfrage.
                </p>
                <p>
                    Diese Bedingung trifft daher erst zu, wenn das Formular abgeschickt wird. Denn dabei wird – da dem
                    Formular das <tt>action</tt>-Attribut fehlt – einfach dieselbe Seite erneut vom Server abgerufen.
                    Dieses mal jedoch als <tt>POST</tt>-Anfrage mit den Formulareingaben im Gepäck (genauer gesagt
                    im Request Body). 💼
                </p>
                <p>
                    Beim zweiten Aufruf der Seite trifft die <code>if</code>-Bedingung daher zu und ihr Inhalt wird
                    an den Browser geschickt. Dabei werden dann auch die Werte der beiden Parameter <tt>dein_name</tt>
                    und <tt>dein_alter</tt> ausgegeben, so wie sie von der Methode <src-code language="java">
                    request.getParameter("…")</src-code> zurückgegeben werden.
                </p>

                <h2>Ein Wort der Warnung</h2>
                <p>
                    Auch wenn das hier nur ein kurzer Überblick war, wollen wir die hier gezeigte
                    Syntax nicht weiter vertiefen. Denn moderne Java Server Pages bieten viel bessere
                    Möglichkeiten, die auch ohne Mischung von HTML und Javacode funktionieren. 💫
                </p>
            </aside>
        </section>

        <section>
            <h1>Wir steigen auf NetBeans um</h1>
            <article>
                <ul class="nav nav-tabs" role="tablist">
                    <li>
                        <a href="#netbeans-carousel" class="nav-link" data-slide="next">Nächstes Bild</a>
                    </li>
                    <li>
                        <a href="#netbeans-carousel" class="nav-link" data-slide="prev">Vorheriges Bild</a>
                    </li>
                    <li>
                        <a href="#netbeans-carousel" class="nav-link" data-slide-to="0">Nochmal von vorne</a>
                    </li>
                </ul>
                <div id="netbeans-carousel" class="carousel slide" data-interval="false">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <p>
                                Starte NetBeans und wähle im <tt>File</tt>-Menü den Eintrag <tt>New Project…</tt> aus.
                            </p>
                            <img class="active d-block w-100" src="netbeans_01.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Als Projekttyp suche <tt>Web Application</tt> in der Kategorie <tt>Java Web</tt>.
                            </p>
                            <img class="active d-block w-100" src="netbeans_02.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Im nächsten Fenster musst du den Namen und Speicherort des Projekts eingeben.
                            </p>
                            <img class="active d-block w-100" src="netbeans_03.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Die darauf folgenden Servereinstellungen kannst du einfach übernehmen. GlassFish passt.
                            </p>
                            <img class="active d-block w-100" src="netbeans_04.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Ob die vorgefertige <tt>index.html</tt> benötigt wird, hängt von deinem Projekt ab.
                                Hier brauchen wir sie nicht und können sie daher löschen (rechte Maustaste).
                            </p>
                            <img class="active d-block w-100" src="netbeans_05.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Stattdessen kannst du im Ordner <tt>Web Pages</tt> eine neue Java Server Page anlegen,
                                da diese auch serverseitige Logik enthalten darf.
                            </p>
                            <img class="active d-block w-100" src="netbeans_06.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Die Datei soll den Namen <tt>index</tt> haben, damit sie als Startseite aufgerufen wird.
                            </p>
                            <img class="active d-block w-100" src="netbeans_07.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Den Quellcode kannst du aus der vorherigen Folie kopieren.
                            </p>
                            <img class="active d-block w-100" src="netbeans_08.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Dann noch schnell geschaut, ob der richtige Browser voreingestellt ist.
                            </p>
                            <img class="active d-block w-100" src="netbeans_09.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Und das Projekt laufen lassen. Unten siehst du, wie der GlassFish Applikationsserver nun startet.
                            </p>
                            <img class="active d-block w-100" src="netbeans_10.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Wenn alles gut geht, sollte sich nach einer Weile dein Browser mit der neuen Seite öffnen.
                            </p>
                            <img class="active d-block w-100" src="netbeans_11.jpg" />
                        </div>
                        <div class="carousel-item">
                            <p>
                                Das war es auch schon. 🤗 <br />
                                Natürlich musst du die <tt>index.html</tt> nicht löschen, wenn du nicht willst. <br />
                                In einem Projekt mit Java Server Pages ist sie in der Regel aber überflüssig. 🤽🏼
                            </p>
                            <img class="active d-block w-25 m-auto" src="../finish.svg" />
                        </div>
                    </div>
                </div>

                <p>
                    <small>
                        <small>
                            Bildnachweis für das Endesymbol: <a href="https://pixabay.com/en/symbol-gui-internet-internet-page-2480163/" target="_blank">Pixabay: janf93</a>
                        </small>
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Da unsere Webanwendungen von nun an immer auch einen Serverteil haben werden,
                    steigen wir ab hier auf NetBeans um. Zwar kannst du Java Server Pages auch
                    mit Atom oder einem beliebgen anderen Editor programmieren. Dazu bräuchtest du
                    dann aber ein ausgewachsenes <a href="https://jaxenter.de/8-build-tools-im-vergleich-ant-buildr-maven-bazel-buck-gradle-pants-sbt-41627"
                    target="_blank">Buildsystem</a> wie <a href="http://ant.apache.org/" target="_blank">
                    Ant</a> oder <a href="https://maven.apache.org/" target="_blank">Maven</a>,
                    um die Erstellung der Webarchive zu automatisieren. 🏗️ NetBeans dagegen nimmt
                    uns diese Arbeit komplett ab.
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 2: Dein erstes NetBeans-Projekt</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "aufgabe2-aufgabe-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#aufgabe2-aufgabe"
                                role          = "tab"
                                aria-controls = "aufgabe2-aufgabe"
                                aria-expanded = "true"
                            >
                                Aufgabe
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe2-loesung-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe2-loesung"
                                role          = "tab"
                                aria-controls = "aufgabe2-loesung"
                            >
                                Lösung
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Aufgabe -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "aufgabe2-aufgabe"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe2-aufgabe-tab"
                        >
                            <ol>
                                <li>
                                    Starte NetBeans und lege ein neues Java-Webprojekt an.
                                </li>
                                <li>
                                    Lösche die standardmäßig erzeugte <tt>index.html</tt>-Datei und ersetze sie durch eine Datei namens <tt>index.jsp</tt>.
                                </li>
                                <li>
                                    Kopiere den Quellcode aus <a href="#7">Folie 7</a> in die JSP-Datei und lasse sie laufen.
                                </li>
                                <li>
                                    Wenn alles soweit klappt, erweitere das Formular um die zwei Felder <i>Telefonnummer</i> und <i>Hobby</i>.
                                </li>
                                <li>
                                    Ändere den Javacode danach so ab, dass keine leeren Felder in der Bestätigungsseite angezeigt werden.
                                </li>
                            </ol>
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md">
                                        <img src="aufgabe2_editor.jpg" class="img-thumbnail d-block" style="width: 100%" />
                                        Quellcode in NetBeans
                                    </div>
                                    <div class="col-md">
                                        <img src="aufgabe2_browser.png" class="img-thumbnail d-block" style="width: 100%" />
                                        Darstellung im Browser
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Lösung -->
                        <div
                            class           = "tab-pane fade"
                            id              = "aufgabe2-loesung"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe2-loesung-tab"
                        >
                            <source-code language="html">
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;JSP-Beispiel&lt;/title&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;form method="post"&gt;
                                            Name: &lt;input name="dein_name"/&gt;
                                            Alter: &lt;input name="dein_alter"/&gt;
                                            &lt;br /&gt;
                                            Telefon: &lt;input name="dein_telefon"/&gt;
                                            Hobby: &lt;input name="dein_hobby"/&gt;
                                            &lt;input type="submit" value="Los!"/&gt;
                                        &lt;/form&gt;

                                        &lt;!-- Alles zwischen &lt;% und %&gt; ist Javacode --&gt;
                                        &lt;% if (request.getMethod().equals("POST")) { %&gt;
                                            &lt;h2&gt;Bisherige Eingabe&lt;/h2&gt;
                                            &lt;% if (!request.getParameter("dein_name").equals("")) { %&gt;
                                                &lt;b&gt;Name: &lt;/b&gt; &lt;%= request.getParameter("dein_name") %&gt;
                                                &lt;br/&gt;
                                            &lt;% } %&gt;
                                            &lt;% if (!request.getParameter("dein_alter").equals("")) { %&gt;
                                                &lt;b&gt;Alter:&lt;/b&gt; &lt;%= request.getParameter("dein_alter") %&gt;
                                                &lt;br/&gt;
                                            &lt;% } %&gt;
                                            &lt;% if (!request.getParameter("dein_telefon").equals("")) { %&gt;
                                                &lt;b&gt;Telefon:&lt;/b&gt; &lt;%= request.getParameter("dein_telefon") %&gt;
                                                &lt;br/&gt;
                                            &lt;% } %&gt;
                                            &lt;% if (!request.getParameter("dein_hobby").equals("")) { %&gt;
                                                &lt;b&gt;Hobby:&lt;/b&gt; &lt;%= request.getParameter("dein_hobby") %&gt;
                                                &lt;br/&gt;
                                            &lt;% } %&gt;
                                        &lt;% } %&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Hier darfst du ein wenig programmieren. Keine Angst, nicht zu viel.
                    Du sollst lediglich einmal NetBeans anschmeißen und ein eigenes kleines
                    Webprojekt erstellen. Den Quellcode dazu kennst du schon. Mit ein paar
                    einfachen Handgriffen sollte sich dieser relativ einfach ausführen lassen. 🎬
                </p>
                <img src="../github_atom.png" class="img-fluid d-block"/>
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://atom.io/" target="_blank">Atom Webseite</a>
                    </small>
                </p>
            </aside>
        </section>

        <section>
            <h1>Mehrere Seiten aus einem Guss</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "templates-beispiel-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#templates-beispiel"
                                role          = "tab"
                                aria-controls = "templates-beispiel"
                                aria-expanded = "true"
                            >
                                Das wollen wir erreichen
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "templates-template-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#templates-template"
                                role          = "tab"
                                aria-controls = "templates-template"
                            >
                                Mit diesem Template
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "templates-inhalt1-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#templates-inhalt1"
                                role          = "tab"
                                aria-controls = "templates-inhalt1"
                            >
                                Und diesem Inhalt
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "templates-inhalt2-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#templates-inhalt2"
                                role          = "tab"
                                aria-controls = "templates-inhalt2"
                            >
                                Oder diesem Inhalt
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Das wollen wir erreichen -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "templates-beispiel"
                            role            = "tabpanel"
                            aria-labelledby = "templates-beispiel-tab"
                        >
                            <p>
                                Mehrere HTML-Seiten derselben Webanwendung nutzen dasselbe Layout. Alle Seiten
                                sollen sich dabei dasselbe HTML-Grundgerüst teilen. Doppelter Quellcode soll
                                möglichst vermieden werden.
                            </p>
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md">
                                        <img src="template_01.jpg" class="d-block img-thumbnail" style="width: 100%" />
                                    </div>
                                    <div class="col-md">
                                        <img src="template_02.jpg" class="d-block img-thumbnail" style="width: 100%" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md">
                                        <img src="template_03.jpg" class="d-block img-thumbnail" style="width: 100%" />
                                    </div>
                                    <div class="col-md">
                                        <img src="template_04.jpg" class="d-block img-thumbnail" style="width: 100%" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Mit diesem Template -->
                        <div
                            class           = "tab-pane fade"
                            id              = "templates-template"
                            role            = "tabpanel"
                            aria-labelledby = "templates-template-tab"
                        >
                            <p>
                                Hierfür wird das HTML-Grundgerüst der Seite in eine eigene Datei ausgelagert. In vielen
                                Webframeworks wird diese Datei ein <b>Template</b> (deutsch „Vorlage”) genannt. Anstelle
                                des echten Inhalts beinhaltet das Template überall Platzhalter, wo später etwas eingefügt
                                werden soll.
                            </p>
                            <source-code language="html">
                                &lt;%@tag pageEncoding="UTF-8"%&gt;

                                &lt;!-- Definition der Platzhalter, die unten verwendet werden. --&gt;
                                &lt;!-- fragment="true" bedeutet, dass ein ganzes Stück HTML-Code eingefügt wird. --&gt;
                                &lt;!-- Andernfalls wird nur ein kurzer Textausschnitt ohne HTML-Code übernommen. --&gt;
                                &lt;%@attribute name="title"%&gt;
                                &lt;%@attribute name="body" fragment="true" %&gt;
                                &lt;%@attribute name="footer" fragment="true" %&gt;

                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8"&gt;

                                        &lt;!-- Platzhalter für den Titel --&gt;
                                        &lt;title&gt;${title}&lt;/title&gt;

                                        &lt;link rel="stylesheet" href="style.css" /&gt;
                                        &lt;script src="script.js"&gt;&lt;/script&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;nav&gt;
                                            &lt;!-- Nochmal der Platzhalter für den Titel --&gt;
                                            &lt;h1&gt;${title}&lt;/h1&gt;

                                            &lt;ul&gt;
                                                &lt;li&gt;
                                                    &lt;a href="index.jsp"&gt;Startseite&lt;/a&gt;
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    &lt;a href="firmenportrait.jsp"&gt;Firmenportrait&lt;/a&gt;
                                                &lt;/li&gt;
                                                …
                                            &lt;/ul&gt;
                                        &lt;/nav&gt;

                                        &lt;main&gt;
                                            &lt;!-- Platzhalter für den Body-Inhalt --&gt;
                                            &lt;jsp:invoke fragment="body"/&gt;
                                        &lt;/main&gt;

                                        &lt;footer&gt;
                                            &lt;ul&gt;
                                                …
                                            &lt;/ul&gt;

                                            &lt;!-- Platzhalter für den Footer-Inhalt --&gt;
                                            &lt;jsp:invoke fragment="footer"/&gt;
                                        &lt;/footer&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- Und diesem Inhalt -->
                        <div
                            class           = "tab-pane fade"
                            id              = "templates-inhalt1"
                            role            = "tabpanel"
                            aria-labelledby = "templates-inhalt1-tab"
                        >
                            <p>
                                Der tatsächliche Inhalt, der in das Template eingefügt wird, kommt aus einer
                                anderen Datei. Es handelt sich dabei um die eigentliche HTML/JSP-Datei, die
                                der Anwender gerade abrufen will. Sie beinhaltet einen Verweis auf das zu
                                verwendende Template, so dass der Server weiß, dass er erst beide Dateien
                                „übereinander legen” muss, um die fertige Seite zu erzeugen. 📄📑
                            </p>
                            <source-code language="html">
                                &lt;!-- Verweis auf das Verzeichnis, in dem unser Template liegt --&gt;
                                &lt;%@taglib prefix="template" tagdir="/WEB-INF/tags/templates" %&gt;
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;

                                &lt;!-- Aufruf des Templates mit dem Namen „base.tag“ --&gt;
                                &lt;template:base&gt;

                                    &lt;!-- Inhalt für die Titel-Platzhalter --&gt;
                                    &lt;jsp:attribute name="title"&gt;Startseite&lt;/jsp:attribute&gt;

                                    &lt;!-- Inhalt für den Body-Platzhalter --&gt;
                                    &lt;jsp:attribute name="body"&gt;
                                        &lt;h1&gt;Ihr perfekter Feierabend!&lt;/h1&gt;
                                        &lt;img src="feierabend.jpg" alt="" /&gt;
                                        &lt;p&gt;
                                            Kommen Sie nach einem anstrengenden Arbeitstag nach Hause und lassen
                                            Sie sich von unseren Premiumbieren verwöhnen. Es gibt nichts besseres,
                                            um den Tag ausklingen zu lassen …
                                        &lt;/p&gt;
                                    &lt;/jsp:attribute&gt;

                                    &lt;!-- Inhalt für den Footer-Platzhalter --&gt;
                                    &lt;jsp:attribute name="footer"&gt;
                                        © 2017 Liquid Spirit Webdesign Ltd.
                                        &lt;br /&gt;
                                        Im Land wo Hopfen und Malz fließt
                                    &lt;/jsp:attribute&gt;

                                &lt;/template:base&gt;
                            </source-code>
                        </div>
                        <!-- Oder diesem Inhalt -->
                        <div
                            class           = "tab-pane fade"
                            id              = "templates-inhalt2"
                            role            = "tabpanel"
                            aria-labelledby = "templates-inhalt2-tab"
                        >
                            <p>
                                Was einmal geht, geht auch zweimal. 💕 Das HTML-Template kann natürlich für beliebig
                                viele Seiten verwendet werden, die dadurch alle ein einheitliches Layout bekommen.
                            </p>
                            <source-code language="html">
                                &lt;%@taglib prefix="template" tagdir="/WEB-INF/tags/templates" %&gt;
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;

                                &lt;template:base&gt;
                                    &lt;jsp:attribute name="title"&gt;Firmenportrait&lt;/jsp:attribute&gt;

                                    &lt;jsp:attribute name="body"&gt;
                                        &lt;h2&gt;Alles begann als kleines Familienunternehmen&lt;/h2&gt;
                                        &lt;p&gt;
                                            „Wir sollten aufhören, weniger zu trinken”. Dies war stets das
                                            Motto von Julius Sinner, bevor er 1873 seine erste kleine Brauerei
                                            gründete. Dabei hatte er nur ein äußerst bescheidenes Startkapital
                                            und der Erfolg war keinesfalls gewiss …
                                        &lt;/p&gt;
                                    &lt;/jsp:attribute&gt;

                                    &lt;jsp:attribute name="footer"&gt;
                                        © 2017 Liquid Spirit Webdesign Ltd.
                                        &lt;br /&gt;
                                        Im Land wo Hopfen und Malz fließt
                                    &lt;/jsp:attribute&gt;
                                &lt;/template:base&gt;
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Zum Abschluss dieses Teilkapitels schauen wir uns hier noch ein Praxisbeispiel
                    an, wie Java Server Pages ein echtes Alltagsproblem lösen können. 🤕 Bei unseren
                    bisherigen Webseiten haben wir den gesamten Inhalt immer nur in eine einzige
                    HTML-Datei gepackt. Unter anderem auch deshalb, weil es echt mühselig ist, ein
                    Projekt mit vielen einzelnen HTML-Dateien zu verwalten, so dass alle HTML-Seiten
                    immer denselben Aufbau besitzen. 🤤

                    Zwar lässt sich das Problem durch die Entwicklung so genannter „Single Page Apps”
                    recht elegant umgehen, wie sich herausstellt können wir dasselbe Ziel mit nur
                    ein klein wenig Hilfe vom Server viel einfacher erreichen. Denn so gut wie jedes
                    Webframework (egal ob Java, Ruby, Python, PHP oder wie auch immer) kennt <b>Templates</b>,
                    bei denen es sich tatsächlich um eine Art Vorlage für viele gleichartige HTML-Dateien
                    handelt. 🏡 🏡 🏡 🏡
                </p>
                <p>
                    Im zweiten Tabreiter auf der Folie siehst du, wie ein solches Template in
                    Java aussehen kann. 📄 Wie du siehst, beinhaltet das Template den kompletten
                    Quellcode einer fertigen HTML-Seite jedoch ohne die veränderlichen Inhalte.
                    An ihrer Stelle enthält es Platzhalter, die mit verschiedenen Inhalten
                    ausgefüllt werden können.
                    Welches Template eine Seite benutzt, bleibt dem Anwender dabei vollkommen
                    verborgen. Denn der ruft wie gewohnt einfach nur Seiten vom Server ab, die
                    jetzt aber gar keinen kompletten HTML-Code mehr sondern nur einen Verweis auf
                    ein Template sowie den darin einzufügenden Inhalt enthalten. Beim Abruf der
                    Seite setzt der Server dann beides zusammen, um die fertige Seite zu generieren.
                </p>
                <p>
                    Beispielsweise kann es sein, dass der Anwender die Seite <tt>impressum.jsp</tt> mit
                    folgendem (vereinfachten) Inhalt anfordert:
                </p>
                <source-code language="html">
                    &lt;template:base&gt;
                        &lt;jsp:attribute name="title"&gt;Impressum&lt;/jsp:attribute&gt;
                        &lt;jsp:attribute name="body"&gt;
                            &lt;p&gt;
                                Unsere Firma stellt sich vor …
                            &lt;/p&gt;
                        &lt;/jsp:attribute&gt;
                    &lt;/template:base&gt;
                </source-code>
                <p>
                    Ganz offensichtlich handelt es sich nicht um eine komplette HTML-Datei. Muss es aber
                    auch nicht, denn die Datei verweist auf ein Template mit dem Namen <tt>base.tag</tt>,
                    das zum Beispiel folgendes Codegerüst beinhalten könnte:
                </p>
                <source-code language="html">
                    &lt;!DOCTYPE html>
                    &lt;html&gt;
                        &lt;head&gt;
                            &lt;meta charset="utf-8" /&gt;
                            &lt;title&gt;${title}&lt;/title&gt;
                        &lt;/head&gt;
                        &lt;body&gt;
                            &lt;h1&gt;${title}&lt;/h1&gt;
                            &lt;jsp:invoke fragment="body"/&gt;
                        &lt;/body&gt;
                    &lt;/html&gt;
                </source-code>
                <p>
                    Dann würde an den Browser folgende Seite geschickt werden:
                </p>
                <source-code language="html">
                    &lt;!DOCTYPE html>
                    &lt;html&gt;
                        &lt;head&gt;
                            &lt;meta charset="utf-8" /&gt;
                            &lt;title&gt;Impressum&lt;/title&gt;
                        &lt;/head&gt;
                        &lt;body&gt;
                            &lt;h1&gt;Impressum&lt;/h1&gt;
                            &lt;p&gt;
                                Unsere Firma stellt sich vor …
                            &lt;/p&gt;
                        &lt;/body&gt;
                    &lt;/html&gt;
                </source-code>
                <p>
                    Okay, zugegeben! Die Syntax, wie Templates mit Java Server Pages realisiert werden,
                    ist schon ziemlich gewöhnungsbedürftig. 🤶🏼 Das Prinzip ist aber genau dasselbe wie in
                    vielen anderen, modernen Webframeworks.
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 3: Hallo Welt mal drei</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "aufgabe3-aufgabe-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#aufgabe3-aufgabe"
                                role          = "tab"
                                aria-controls = "aufgabe3-aufgabe"
                                aria-expanded = "true"
                            >
                                Aufgabe
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe3-index_jsp-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe3-index_jsp"
                                role          = "tab"
                                aria-controls = "aufgabe3-index_jsp"
                            >
                                index.jsp
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe3-ehrenamt_jsp-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe3-ehrenamt_jsp"
                                role          = "tab"
                                aria-controls = "aufgabe3-ehrenamt_jsp"
                            >
                                ehrenamt.jsp
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe3-santa_jsp-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe3-santa_jsp"
                                role          = "tab"
                                aria-controls = "aufgabe3-santa_jsp"
                            >
                                santa.jsp
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe3-loesung-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe3-loesung"
                                role          = "tab"
                                aria-controls = "aufgabe3-loesung"
                            >
                                Lösung
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Aufgabe -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "aufgabe3-aufgabe"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe3-aufgabe-tab"
                        >
                            <p>
                                Kopiere die folgenden Java Server Pages in eine neues Java-Webprojekt
                                und schaue, ob du es zum Laufen bekommst. Anschließend versuche, so viel
                                HTML-Code wie möglich in ein gemeinsames Template auszulagern. Das Template
                                sollte dabei den Dateinamen <tt>base.tag</tt> haben und im Verzeichnis
                                <tt>WEB-INF/tags/templates</tt> liegen.
                            </p>

                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md-4">
                                        <img src="aufgabe3_01.jpg" class="d-block img-thumbnail" style="width: 100%;" />
                                        <p>
                                            <small>
                                                <tt>index.jsp</tt>
                                            </small>
                                        </p>
                                    </div>
                                    <div class="col-md-4">
                                        <img src="aufgabe3_02.jpg" class="d-block img-thumbnail" style="width: 100%;" />
                                        <p>
                                            <small>
                                                <tt>ehrenamt.jsp</tt>
                                            </small>
                                        </p>
                                    </div>
                                    <div class="col-md-4">
                                        <img src="aufgabe3_03.jpg" class="d-block img-thumbnail" style="width: 100%;" />
                                        <p>
                                            <small>
                                                <tt>santa.jsp</tt>
                                            </small>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- index.jsp -->
                        <div
                            class           = "tab-pane fade show"
                            id              = "aufgabe3-index_jsp"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe3-index_jsp-tab"
                        >
                            <source-code language="html">
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;Startseite&lt;/title&gt;

                                        &lt;style&gt;
                                            html, body {
                                                height: 100%;
                                            }

                                            html {
                                                font-family: sans-serif;
                                                font-size: 12pt;
                                            }

                                            h1 {
                                                color: crimson;
                                            }

                                            @media (min-width: 50em) {
                                                html {
                                                    background-image: url(https://unsplash.it/1024/768/?image=1073);
                                                    background-repeat: no-repeat;
                                                    background-position: center center;
                                                    background-size: cover;

                                                    box-sizing: border-box;
                                                    padding-top: 2em;
                                                    padding-bottom: 2em;
                                                }

                                                main {
                                                    width: 40em;
                                                    margin: 0 auto;

                                                    background: white;
                                                    border: 1px solid #E5E5E5;
                                                    box-shadow: 1px 1px 2px #BFBFBF;

                                                    padding: 1em;
                                                }
                                            }
                                        &lt;/style&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;main&gt;
                                            &lt;h1&gt;Startseite&lt;/h1&gt;

                                            &lt;ul&gt;
                                                &lt;li&gt;
                                                    &lt;a href="ehrenamt.jsp"&gt;Nur kein Ehrenamt&lt;/a&gt;
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    &lt;a href="santa.jsp"&gt;Is Santa Claus A Sysadmin?&lt;/a&gt;
                                                &lt;/li&gt;
                                            &lt;/ul&gt;
                                        &lt;/main&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- ehrenamt.jsp -->
                        <div
                            class           = "tab-pane fade show"
                            id              = "aufgabe3-ehrenamt_jsp"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe3-ehrenamt_jsp-tab"
                        >
                            <source-code language="html">
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;Nur kein Ehrenamt&lt;/title&gt;

                                        &lt;style&gt;
                                            html, body {
                                                height: 100%;
                                            }

                                            html {
                                                font-family: sans-serif;
                                                font-size: 12pt;
                                            }

                                            h1 {
                                                color: crimson;
                                            }

                                            @media (min-width: 50em) {
                                                html {
                                                    background-image: url(https://unsplash.it/1024/768/?image=1073);
                                                    background-repeat: no-repeat;
                                                    background-position: center center;
                                                    background-size: cover;

                                                    box-sizing: border-box;
                                                    padding-top: 2em;
                                                    padding-bottom: 2em;
                                                }

                                                main {
                                                    width: 40em;
                                                    margin: 0 auto;

                                                    background: white;
                                                    border: 1px solid #E5E5E5;
                                                    box-shadow: 1px 1px 2px #BFBFBF;

                                                    padding: 1em;
                                                }
                                            }
                                        &lt;/style&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;main&gt;
                                            &lt;h1&gt;Nur kein Ehrenamt&lt;/h1&gt;

                                            Willst Du froh und glücklich leben, &lt;br /&gt;
                                            laß kein Ehrenamt dir geben! &lt;br /&gt;
                                            Willst du nicht zu früh ins Grab &lt;br /&gt;
                                            lehne jedes Amt gleich ab! &lt;br /&gt;
                                            &lt;br /&gt;

                                            Wieviel Mühen, Sorgen, Plagen &lt;br /&gt;
                                            wieviel Ärger mußt Du tragen; &lt;br /&gt;
                                            gibst viel Geld aus, opferst Zeit - &lt;br /&gt;
                                            und der Lohn? Undankbarkeit! &lt;br /&gt;
                                            &lt;br /&gt;

                                            Ohne Amt lebst Du so friedlich &lt;br /&gt;
                                            und so ruhig und so gemütlich, &lt;br /&gt;
                                            Du sparst Kraft und Geld und Zeit, &lt;br /&gt;
                                            wirst geachtet weit und breit. &lt;br /&gt;
                                            &lt;br /&gt;

                                            So ein Amt bringt niemals Ehre, &lt;br /&gt;
                                            denn der Klatschsucht scharfe Schere &lt;br /&gt;
                                            schneidet boshaft Dir, schnipp-schnapp, &lt;br /&gt;
                                            Deine Ehre vielfach ab. &lt;br /&gt;
                                            &lt;br /&gt;

                                            Willst du froh und glücklich leben, &lt;br /&gt;
                                            laß kein Ehrenamt dir geben! &lt;br /&gt;
                                            Willst du nicht zu früh ins Grab &lt;br /&gt;
                                            lehne jedes Amt gleich ab! &lt;br /&gt;
                                            &lt;br /&gt;

                                            Selbst Dein Ruf geht Dir verloren, &lt;br /&gt;
                                            wirst beschmutzt vor Tür und Toren, &lt;br /&gt;
                                            und es macht ihn oberfaul &lt;br /&gt;
                                            jedes ungewaschne Maul! &lt;br /&gt;
                                            &lt;br /&gt;

                                            Drum, so rat ich Dir im Treuen: &lt;br /&gt;
                                            willst Du Weib (Mann) und Kind erfreuen, &lt;br /&gt;
                                            soll Dein Kopf Dir nicht mehr brummen, &lt;br /&gt;
                                            laß das Amt doch and'ren Dummen. &lt;br /&gt;
                                        &lt;/main&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- santa.jsp -->
                        <div
                            class           = "tab-pane fade show"
                            id              = "aufgabe3-santa_jsp"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe3-santa_jsp-tab"
                        >
                            <source-code language="html">
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;Is Santa Claus A Sysadmin?&lt;/title&gt;

                                        &lt;style&gt;
                                            html, body {
                                                height: 100%;
                                            }

                                            html {
                                                font-family: sans-serif;
                                                font-size: 12pt;
                                            }

                                            h1 {
                                                color: crimson;
                                            }

                                            @media (min-width: 50em) {
                                                html {
                                                    background-image: url(https://unsplash.it/1024/768/?image=1073);
                                                    background-repeat: no-repeat;
                                                    background-position: center center;
                                                    background-size: cover;

                                                    box-sizing: border-box;
                                                    padding-top: 2em;
                                                    padding-bottom: 2em;
                                                }

                                                main {
                                                    width: 40em;
                                                    margin: 0 auto;

                                                    background: white;
                                                    border: 1px solid #E5E5E5;
                                                    box-shadow: 1px 1px 2px #BFBFBF;

                                                    padding: 1em;
                                                }
                                            }
                                        &lt;/style&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;main&gt;
                                            &lt;h1&gt;Is Santa Claus A Sysadmin?&lt;/h1&gt;

                                            &lt;ol&gt;
                                                &lt;li&gt;
                                                    Santa is bearded, corpulent, and dresses funny.
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    When you ask Santa for something, the odds of receiving what you wanted are infinitesimal.
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    Santa seldom answers your mail.
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    Santa doesn't care about your deadlines.
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    Your parents ascribed supernatural powers to Santa, but did all the work themselves.
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    Nobody knows who Santa has to answer to for his actions.
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    Santa laughes entirely too much.
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    Santa thinks nothing of breaking into your $HOME.
                                                &lt;/li&gt;
                                                &lt;li&gt;
                                                    Only a lunatic says bad things about Santa in his presence
                                                &lt;/li&gt;
                                            &lt;/ol&gt;
                                        &lt;/main&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- Lösung -->
                        <div
                            class           = "tab-pane fade"
                            id              = "aufgabe3-loesung"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe3-loesung-tab"
                        >
                            <h2>WEB-INF/tags/templates/base.tag</h2>
                            <source-code language="html">
                                &lt;%@tag pageEncoding="UTF-8"%&gt;

                                &lt;%@attribute name="title"%&gt;
                                &lt;%@attribute name="body" fragment="true" %&gt;

                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;${title}&lt;/title&gt;

                                        &lt;style&gt;
                                            html, body {
                                                height: 100%;
                                            }

                                            html {
                                                font-family: sans-serif;
                                                font-size: 12pt;
                                            }

                                            h1 {
                                                color: crimson;
                                            }

                                            @media (min-width: 50em) {
                                                html {
                                                    background-image: url(https://unsplash.it/1024/768/?image=1073);
                                                    background-repeat: no-repeat;
                                                    background-position: center center;
                                                    background-size: cover;

                                                    box-sizing: border-box;
                                                    padding-top: 2em;
                                                    padding-bottom: 2em;
                                                }

                                                main {
                                                    width: 40em;
                                                    margin: 0 auto;

                                                    background: white;
                                                    border: 1px solid #E5E5E5;
                                                    box-shadow: 1px 1px 2px #BFBFBF;

                                                    padding: 1em;
                                                }
                                            }
                                        &lt;/style&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;main&gt;
                                            &lt;h1&gt;${title}&lt;/h1&gt;

                                            &lt;jsp:invoke fragment="body"/&gt;
                                        &lt;/main&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>

                            <h2>index.jsp</h2>
                            <source-code language="html">
                                &lt;%@taglib prefix="template" tagdir="/WEB-INF/tags/templates" %&gt;
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;

                                &lt;template:base&gt;
                                    &lt;jsp:attribute name="title"&gt;Startseite&lt;/jsp:attribute&gt;

                                    &lt;jsp:attribute name="body"&gt;
                                        &lt;ul&gt;
                                            &lt;li&gt;
                                                &lt;a href="ehrenamt.jsp"&gt;Nur kein Ehrenamt&lt;/a&gt;
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                &lt;a href="santa.jsp"&gt;Is Santa Claus A Sysadmin?&lt;/a&gt;
                                            &lt;/li&gt;
                                        &lt;/ul&gt;
                                    &lt;/jsp:attribute&gt;
                                &lt;/template:base&gt;
                            </source-code>

                            <h2>ehrenamt.jsp</h2>
                            <source-code language="html">
                                &lt;%@taglib prefix="template" tagdir="/WEB-INF/tags/templates" %&gt;
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;

                                &lt;template:base&gt;
                                    &lt;jsp:attribute name="title"&gt;Nur kein Ehrenamt&lt;/jsp:attribute&gt;

                                    &lt;jsp:attribute name="body"&gt;
                                        Willst Du froh und glücklich leben, &lt;br /&gt;
                                        laß kein Ehrenamt dir geben! &lt;br /&gt;
                                        Willst du nicht zu früh ins Grab &lt;br /&gt;
                                        lehne jedes Amt gleich ab! &lt;br /&gt;
                                        &lt;br /&gt;

                                        Wieviel Mühen, Sorgen, Plagen &lt;br /&gt;
                                        wieviel Ärger mußt Du tragen; &lt;br /&gt;
                                        gibst viel Geld aus, opferst Zeit - &lt;br /&gt;
                                        und der Lohn? Undankbarkeit! &lt;br /&gt;
                                        &lt;br /&gt;

                                        Ohne Amt lebst Du so friedlich &lt;br /&gt;
                                        und so ruhig und so gemütlich, &lt;br /&gt;
                                        Du sparst Kraft und Geld und Zeit, &lt;br /&gt;
                                        wirst geachtet weit und breit. &lt;br /&gt;
                                        &lt;br /&gt;

                                        So ein Amt bringt niemals Ehre, &lt;br /&gt;
                                        denn der Klatschsucht scharfe Schere &lt;br /&gt;
                                        schneidet boshaft Dir, schnipp-schnapp, &lt;br /&gt;
                                        Deine Ehre vielfach ab. &lt;br /&gt;
                                        &lt;br /&gt;

                                        Willst du froh und glücklich leben, &lt;br /&gt;
                                        laß kein Ehrenamt dir geben! &lt;br /&gt;
                                        Willst du nicht zu früh ins Grab &lt;br /&gt;
                                        lehne jedes Amt gleich ab! &lt;br /&gt;
                                        &lt;br /&gt;

                                        Selbst Dein Ruf geht Dir verloren, &lt;br /&gt;
                                        wirst beschmutzt vor Tür und Toren, &lt;br /&gt;
                                        und es macht ihn oberfaul &lt;br /&gt;
                                        jedes ungewaschne Maul! &lt;br /&gt;
                                        &lt;br /&gt;

                                        Drum, so rat ich Dir im Treuen: &lt;br /&gt;
                                        willst Du Weib (Mann) und Kind erfreuen, &lt;br /&gt;
                                        soll Dein Kopf Dir nicht mehr brummen, &lt;br /&gt;
                                        laß das Amt doch and'ren Dummen. &lt;br /&gt;
                                    &lt;/jsp:attribute&gt;
                                &lt;/template:base&gt;
                            </source-code>

                            <h2>santa.jsp</h2>
                            <source-code language="html">
                                &lt;%@taglib prefix="template" tagdir="/WEB-INF/tags/templates" %&gt;
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;

                                &lt;template:base&gt;
                                    &lt;jsp:attribute name="title"&gt;Is Santa Claus A Sysadmin?&lt;/jsp:attribute&gt;

                                    &lt;jsp:attribute name="body"&gt;
                                        &lt;ol&gt;
                                            &lt;li&gt;
                                                Santa is bearded, corpulent, and dresses funny.
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                When you ask Santa for something, the odds of receiving what you wanted are infinitesimal.
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                Santa seldom answers your mail.
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                Santa doesn't care about your deadlines.
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                Your parents ascribed supernatural powers to Santa, but did all the work themselves.
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                Nobody knows who Santa has to answer to for his actions.
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                Santa laughes entirely too much.
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                Santa thinks nothing of breaking into your $HOME.
                                            &lt;/li&gt;
                                            &lt;li&gt;
                                                Only a lunatic says bad things about Santa in his presence
                                            &lt;/li&gt;
                                        &lt;/ol&gt;
                                    &lt;/jsp:attribute&gt;
                                &lt;/template:base&gt;
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Das mit den JSP-basierten Templates ist ja praktisch, nicht wahr?
                    Da kann man ganz einfach mehrere Seiten mit ähnlichem Layout erstellen.
                    Und genau das sollst du hier mal ausprobieren. 📖
                </p>
                <img src="../github_atom.png" class="img-fluid d-block"/>
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://atom.io/" target="_blank">Atom Webseite</a>
                    </small>
                </p>
            </aside>
        </section>

        <!--
            ==================================
            VON SERVLETS UND JAVA SERVER PAGES
            ==================================
        -->
        <section data-chapter data-background-image="../trennfolie.jpg">
            <h1>Von Servlets und Java Server Pages</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section>
            <h1>Was der Server bei einer Anfrage macht</h1>
            <article>
                <img src="webapp_struktur.svg" class="d-block" style="width: 100%; box-sizing: border-box; padding: 1em;" />
            </article>
            <aside>
                <p>
                    Im gerade abgeschlossenen Teilkapitel, in dem wir unsere ersten Gehversuche mit Java
                    auf dem Server unternahmen, haben wir eigentlich etwas wichtiges ausgelassen und dadurch
                    einen Programmierstil genutzt, der heute eigentlich gar nicht mehr praktiziert wird:
                    Wir haben HTML- und Javacode in einer Datei vermischt! Das hat uns zwar vom Server
                    generierte, dynamische Inhalte ermöglicht, ist deshalb aber trotzdem kein besonders
                    guter Stil sondern schon bei mittleren Projekten einfach nur noch unübersichtlich.
                    Natürlich brauchen wir serverseitig ausgeführten Code, wenn wir dynamische Inhalte
                    erzeugen wollen und wir wollen unsere HTML-Seiten auch tatsächlich als HTML-Seiten
                    ausprogrammieren. Java- und HTML-Code sollen jedoch in getrennten Dateien leben,
                    wo sie sich nicht in die Quere kommen können.
                </p>
                <p>
                    In nahezu allen Webframeworks aller Programmiersprachen hat sich daher ein universeller
                    Ablauf herausgebildet, der (von kleinen Variationen abgesehen) immer aus den selben drei
                    Schritten besteht, die der Server beim Empfang einer HTTP-Anfrage abarbeitet. Man könnte
                    sie auch die heilige Dreieinigkeit der Webentwicklung nennen, da sie so universell und
                    allgegenwärtig sind. Grund genug also, sich alle drei heute genauer anzuschauen:
                </p>
                <ol>
                    <li>URL-Routing</li>
                    <li>Request Handling</li>
                    <li>HTML Templating</li>
                </ol>
                <p>
                    Wie schon bei den statischen Webseiten von früher beginnt es auch hier immer mit der Frage,
                    welche URL aufgerufen wurde und wer für die vorliegende HTTP-Anfrage überhaupt zuständig ist.
                    Beim Entwickeln müssen wir daher so genannte <b>URL-Routen</b> definieren, bei denen es sich
                    im Grunde genommen um einfache Suchmuster handelt, mit denen die URL verglichen wird. Wie zum
                    Beispiel im folgenden Beispiel für einen einfachen Blog: 📖
                </p>

                <table style="margin-bottom: 1.5em;">
                    <tr>
                        <td>
                            <tt>/</tt>
                        </td>
                        <td>
                            →
                        </td>
                        <td>
                            Startseite
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <tt>/article/</tt>
                        </td>
                        <td>
                            →
                        </td>
                        <td>
                            Übersicht mit allen Blogeinträgen
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <tt>/article/<span style="color: darkred">${name}</span>/</tt>
                        </td>
                        <td>
                            →
                        </td>
                        <td>
                            Inhalt eines einzelnen Blogeintrags
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <tt>/article/<span style="color: darkred">${name}</span>/comments</tt>
                        </td>
                        <td>
                            →
                        </td>
                        <td>
                            Kommentare zu einem bestimmten Blogeintrag
                        </td>
                    </tr>
                </table>

                <p>
                    Jeder Aufruf führt zur Auswahl von genau einer URL-Route, die wiederum den so genannten
                    <b>Request Handler</b> benennt, der die Anfrage übergeben bekommt. Je nach Programmiersprache
                    und Framework handelt es sich dabei entweder um eine Klasse (wie in Java, wo diese Klasse
                    <b>Servlet</b> genannt wird), eine Methode oder eine Funktionen (wie z.B. in
                    <a href="https://www.djangoproject.com/" target="_blank">Django</a> für die Programmiersprache
                    Python, bevor auch hier „klassenbasierte Views“ eingeführt wurden).
                </p>
                <p>
                    Innerhalb des Request Handlers können dann alle Schritte ausgeführt werden, die zur Generierung
                    der HTTP-Antwort notwendig sind. Jedoch trennt man hier nochmal zwischen der Beschaffung der
                    anzuzeigenden Daten und der tatsächlichen Generierung des zurückgeschickten HTML-Codes. Beides
                    erfolgt in einer eigenen Datei, die auf die jeweiligen Besonderheiten vorbereitet ist. So kümmert
                    sich der Request Handler (unsere Servletklasse) wirklich nur darum, die anzuzeigenden Daten zum
                    Beispiel aus einer Datenbank zu lesen und diese dann an eine Java Server Page zur Anzeige zu
                    übergeben. Dadurch kann die Java Server Page auf das absolut wesentliche reduziert und vom gesamten
                    Javacode befreit werden. Lediglich einzelne <code>if</code>-Abfragen oder mal eine kleine Schleife
                    über sich wiederholenden Inhalte bleiben in einer HTML-artigen Syntax erhalten.
                </p>
                <p>
                    Alternativ dazu kann der Request Handler natürlich auch direkt eine HTTP-Antwort erzeugen, wenn
                    ein Format wie PDF oder JSON als Antwort erwartet wird, das sich mit einfachen Templates nur
                    schwer generieren lässt. In diesem Fall entfällt dann einfach der zusätzliche Schritt mit dem
                    Template.
                    Das ganze Programmiermodell ist sehr elegant, da es eine saubere Trennung der Verantwortlichkeiten
                    (bezogen auf die zu erstellenden Quellcodedateien) und somit auch eine klare Strukturierung des
                    Codes begünstigt. Kaum ein Framework erlaubt sich daher heute noch, davon abzuweichen.¹
                </p>
                <p>
                    ¹
                    <small>
                        Höchstens so genannte Micro-Frameworks tanzen hier noch aus der Reihe, allerdings nicht, weil deren
                        Erfinder ein komplett anderes Modell favorisieren, sondern weil sie ihren Nutzern maximale Freiheit
                        bei der Ausgestaltung und damit auch bei der Auswahl der Komponenten lassen wollen.
                    </small>
                </p>
            </aside>
        </section>

        <section>
            <h1>Und nun das Ganze mit Java</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "erstes_servlet-quellcode-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#erstes_servlet-quellcode"
                                role          = "tab"
                                aria-controls = "erstes_servlet-quellcode"
                                aria-expanded = "true"
                            >
                                Quellcode
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "erstes_servlet-netbeans-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#erstes_servlet-netbeans"
                                role          = "tab"
                                aria-controls = "erstes_servlet-netbeans"
                                aria-expanded = "true"
                            >
                                NetBeans-Projekt
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "erstes_servlet-ergebnis-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#erstes_servlet-ergebnis"
                                role          = "tab"
                                aria-controls = "erstes_servlet-ergebnis"
                            >
                                Ergebnis
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Quellcode -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "erstes_servlet-quellcode"
                            role            = "tabpanel"
                            aria-labelledby = "erstes_servlet-quellcode-tab"
                        >
                            <source-code language="java">
                                import java.io.IOException;
                                import java.io.PrintWriter;
                                import javax.servlet.ServletException;
                                import javax.servlet.annotation.WebServlet;
                                import javax.servlet.http.HttpServlet;
                                import javax.servlet.http.HttpServletRequest;
                                import javax.servlet.http.HttpServletResponse;

                                /**
                                 * Dies ist ein Minimalbeispiel für ein Servlet, das auf HTTP-Anfragen reagiert.
                                 */
                                @WebServlet(
                                    urlPatterns = {
                                        "/",
                                        "/hallo/*",
                                    }
                                )
                                public class MinimalesServlet extends HttpServlet {

                                    /**
                                     * Diese Methode reagiert auf GET-Anfragen.
                                     */
                                    @Override
                                    public void doGet(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        // Datenstrom für Ausgabe zum Client
                                        response.setContentType("text/html");
                                        PrintWriter toClient = response.getWriter();

                                        // HTML-Code erzeugen und ausgeben
                                        toClient.println("&lt;html&gt;");
                                        toClient.println("  &lt;body&gt;");
                                        toClient.println("    &lt;h1&gt;Hallo Servlet!&lt;/h1&gt;");
                                        toClient.println("  &lt;/body&gt;");
                                        toClient.println("&lt;/html&gt;");

                                        toClient.flush();
                                    }

                                }
                            </source-code>
                        </div>
                        <!-- NetBeans-Projekt -->
                        <div
                            class           = "tab-pane fade"
                            id              = "erstes_servlet-netbeans"
                            role            = "tabpanel"
                            aria-labelledby = "erstes_servlet-netbeans-tab"
                        >
                            <img src="minimales_servlet_netbeans.png" class="d-block" style="width: 100%;" />
                        </div>
                        <!-- Ergebnis -->
                        <div
                            class           = "tab-pane fade"
                            id              = "erstes_servlet-ergebnis"
                            role            = "tabpanel"
                            aria-labelledby = "erstes_servlet-ergebnis-tab"
                        >
                            <img src="minimales_servlet_ergebnis.png" class="d-block img-responsive" style="max-width: 100%;"/>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Wenn du den eben erklärten Ablauf verstanden hast, ist der hier gezeigte Javacode nicht wirklich
                    schwer. Du musst dir nur folgende zwei Dinge merken:
                </p>
                <ol>
                    <li>
                        Request Handler in Java sind die sogenannten <b>Servlets</b>. Dabei handelt es sich um einfache
                        Klassen, die von <code>HttpServlet</code> erben.
                    </li>
                    <li>
                        Das URL-Routing wird entweder in der Datei <tt>WEB-INF/web.xml</tt> oder, wie hier gezeigt, über
                        die Annotation <code>@WebServlet</code> vor den Servletklassen definiert.
                    </li>
                </ol>
                <p>
                    Mit diesem Wissen ausgestattet können wir uns den Quellcode nun genauer anschauen. Übrigens handelt es sich hierbei
                    um eine vollständige, serverseitige Webanwendung, wie die beiden Screenshots auf der Folie zeigen.¹ 📷
                </p>
                <p>
                    ¹
                    <small>
                        Die Ordner <tt>META-INF</tt> und <tt>WEB-INF</tt> generiert NetBeans automatisch. Du solltest sie auch nicht löschen.
                    </small>
                </p>

                <h2>Das URL-Routing</h2>
                <p>
                    Vor der eigentlichen Serlvetklasse findest du im Quellcode die Annotation <code>@WebServlet</code>. Sie dient, wie Annotationen
                    in der Java Enterprise Edition allgemein, dazu die nachfolgende Klasse für einen bestimmten Anwendungsfall zu konfigurieren.
                    Hier in unserem Fall legt sie daher fest, unter welchen URLs das Servlet aufrufbar ist, indem dem Parameter <tt>urlPatterns</tt>
                    eine Liste² mit Suchmustern mitgegeben wird:
                </p>
                <source-code language="java">
                    @WebServlet(
                        urlPatterns = {
                            "/",
                            "/hallo/*",
                        }
                    )
                </source-code>
                <p>
                    Im Vergleich zu anderen Frameworks ist das URL-Routing von Java leider etwas simpel ausgefallen. Denn es werden nur sogenannte
                    Prefix-Regeln unterstützt, bei denen das Sternchen für eine beliebige Zeichenkette steht. Du wirst daher nicht drumherum kommen,
                    in bestimmten Fällen die URL im Javacode noch weiter analysieren zu müssen. Beispielsweise wenn du, wie im Blogbeispiel gezeigt,
                    die ID das gesuchten Blogeintrags ermitteln willst. Andere Frameworks bieten hier mehr Möglichkeiten.
                </p>
                <p>
                    Angenommen, dein Applikationsserver lauscht auf Port 8080 und deine Webanwendung heißt „beispiel_app”. Dann würden folgende
                    URLs zu einem Aufruf des Servlets führen:
                </p>
                <ul>
                    <li>
                        <tt>http://localhost:8080/beispiel_app/</tt>
                    </li>
                    <li>
                        <tt>http://localhost:8080/beispiel_app/hallo/</tt>
                    </li>
                    <li>
                        <tt>http://localhost:8080/beispiel_app/hallo/welt</tt>
                    </li>
                    <li>
                        <tt>http://localhost:8080/beispiel_app/hallo/dieter/</tt>
                    </li>
                    <li>
                        <tt>…</tt>
                    </li>
                </ul>
                <p>
                    Du siehst, Java stellt immer den Namen der Webanwendung vor die eigentliche URL. Das kommt daher, dass der Quellcode in einem
                    Webcontainer ausgeführt wird, der ja beliebig viele Webanwendungen beherbergen kann.
                </p>
                <p>
                    ²
                    <small>
                        Verwechsle die geschweiften Klammern hier nicht mit JavaScript. Es handelt sich tatsächlich um eine Liste und nicht um
                        ein Dictionary.
                    </small> 🤔
                </p>

                <h2>Die Servletklasse</h2>
                <p>
                    Das Servlet selbst ist eigentlich relativ einfach aufgebaut. Es handelt sich lediglich um eine
                    Javaklasse, die von <code>HttpServlet</code> erbt:
                </p>
                <source-code language="java">
                    public class MinimalesServlet extends HttpServlet {
                        …
                    }
                </source-code>
                <p>
                    Dadurch besitzt sie je HTTP-Verb eine Methode, die bei einer entsprechenden Anfrage aufgerufen wird.
                    Hier im Beispiel wurde allerdings nur die <code>doGet(…)</code>-Methode überschrieben, weshalb das Servlet
                    auch nur auf <tt>GET</tt>-Anfragen reagiert. Alle anderen Anfragen lehnt es mit dem Statuscode <tt>405 Method
                    Not Allowed</tt> ab. 🚭
                </p>
                <p>
                    Die <code>doGet(…)</code>-Methode hat dabei einen interessanten Aufbau. Zunächst einmal bekommt sie zwei
                    Parameter übergeben, die jeweils für die HTTP-Anfrage und die HTTP-Antwort stehen. Außerdem kann sie die
                    beiden Exceptions <code>IOException</code> und <code>ServletException</code> werfen. Darüber musst du dir
                    in der Regel aber keine Gedanken machen:
                </p>
                <source-code language="java">
                    @Override
                    public void doGet(
                        HttpServletRequest requqest,
                        HttpServletResponse respone
                    ) throws IOException, ServletException {
                        …
                    }
                </source-code>
                <p>
                    Bevor nun eine Antwort generiert wird, wird erst das Header Field <tt>content-type</tt> gesetzt, um dem
                    Browser zu sagen, dass wir ihm HTML-Daten schicken:
                </p>
                <source-code language="java">
                    response.setContentType("text/html");
                </source-code>
                <p>
                    Anschließend besorgt sich die Methode einen <code>PrintWriter</code>-Datenstrom und schreibt dort die
                    eigentliche Antwort hinein. Also alles das, was im Response Body zurückgeschickt werden soll:
                </p>
                <source-code language="java">
                    PrintWriter toClient = response.getWriter();

                    toClient.println("&lt;html&gt;");
                    toClient.println("  &lt;body&gt;");
                    toClient.println("    &lt;h1&gt;Hallo Servlet!&lt;/h1&gt;");
                    toClient.println("  &lt;/body&gt;");
                    toClient.println("&lt;/html&gt;");

                    toClient.flush();
                </source-code>

                <h2>Wie geht es nun weiter?</h2>
                <p>
                    Natürlich ist das noch nicht wirklich schöner Quellcode. Denn wer will schon HTML-Seiten auf diese Weise
                    zusammenbauen? 🤤 In <a href="#23">Folie 23</a> zeigen wir dir daher, wie die Bearbeitung an eine Java Server
                    Page weitergegeben werden kann.
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 4: Dein erstes Servlet</h1>
            <article>
                <p>
                    Lege in NetBeans ein <a href="../http/#8" target="_blank">neues Java-Webprojekt</a> an und probiere folgende Sachen aus:
                </p>
                <ol>
                    <li>
                        Lösche die Datei <tt>index.html</tt> aus dem Ordner <tt>Web Pages.</tt>
                    </li>
                    <li>
                        Stattdessen lege eine neue Klasse an und kopiere den Quellcode aus <a href="#18">Folie 18</a> hinein.
                    </li>
                    <li>
                        Starte die Anwendung und rufe das Servlet im Browser auf. Es sollte die Meldung „Hallo Servlet!” erscheinen.
                    </li>
                    <li>
                        Schreibe ein zweites Servlet, das auf die URL <tt>/bye/</tt> reagiert und „Auf Wiedersehen!” anzeigt.
                    </li>
                </ol>

                <img src="aufgabe_servlet.png" class="d-block img-thumbnail" style="width: 100%;" />
            </article>
            <aside>
                <p>
                    Wir haben zwar noch nicht viel Quellcode gesehen, doch wollen wir
                    an dieser Stelle gleich mal ausprobieren, ob das mit den Servlets
                    wirklich so einfach funktioniert. Zeit also, NetBeans anzustarten. 🏁
                </p>
                <img src="../github_atom.png" class="img-fluid d-block"/>
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://atom.io/" target="_blank">Atom Webseite</a>
                    </small>
                </p>
            </aside>
        </section>

        <section>
            <h1>Die wichtigsten Servlet-Methoden</h1>
            <article>
                <h2>HttpServlet: Das Servlet selbst</h2>

                <div style="margin-bottom: 1em;">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "methoden-http_servlet-anfragen-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#methoden-http_servlet-anfragen"
                                role          = "tab"
                                aria-controls = "methoden-http_servlet-anfragen"
                                aria-expanded = "true"
                            >
                                Bearbeitung von HTTP-Anfragen
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "methoden-http_servlet-beispiel-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#methoden-http_servlet-beispiel"
                                role          = "tab"
                                aria-controls = "methoden-http_servlet-beispiel"
                            >
                                Beispiel
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Bearbeitung von HTTP-Anfragen -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "methoden-http_servlet-anfragen"
                            role            = "tabpanel"
                            aria-labelledby = "methoden-http_servlet-anfragen-tab"
                        >
                            <source-code language="java">
                                public void service(HttpServletRequest request, HttpServletResponse response)
                                throws IOException, ServletEcxeption
                            </source-code>
                            <p style="margin-top: -0.5em; margin-bottom: 1em;">
                                Diese Methode kannst du überschreiben, wenn du wirklich auf alle HTTP-Anfragen reagieren willst,
                                egal welches Verb dabei verwendet wurde.
                            </p>

                            <source-code language="java">
                                public void doGet(HttpServletRequest request, HttpServletResponse response) …
                                public void doPut(HttpServletRequest request, HttpServletResponse response) …
                                public void doPost(HttpServletRequest request, HttpServletResponse response) …
                                public void doDelete(HttpServletRequest request, HttpServletResponse response) …
                            </source-code>
                            <p style="margin-top: -0.5em">
                                Meistens ist es jedoch besser, eine dieser Methoden zu überschreiben. Denn dadurch kannst du gezielt
                                festlegen, wie sich das Servlet bei verschiedenen HTTP-Verben verhalten soll.
                            </p>
                        </div>
                        <!-- Beispiel -->
                        <div
                            class           = "tab-pane fade"
                            id              = "methoden-http_servlet-beispiel"
                            role            = "tabpanel"
                            aria-labelledby = "methoden-http_servlet-beispiel-tab"
                        >
                            <source-code language="java">
                                /**
                                 * Dieses Beispiel zeigt die Verwendung der verschiedenen doXXX-Methoden.
                                 */
                                @WebServlet(urlPatterns = {"/"})
                                public class GetPostServlet extends HttpServlet {

                                    /**
                                     * Wir haben eine GET-Anfrage empfangen.
                                     */
                                    @Override
                                    public void doGet(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        …
                                    }

                                    /**
                                     * Wir haben eine POST-Anfrage empfangen.
                                     */
                                    @Override
                                    public void doPost(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        …
                                    }

                                }
                            </source-code>
                        </div>
                    </div>
                </div>

                <h2>HttpServletRequest: Die HTTP-Anfrage</h2>

                <div style="margin-bottom: 1em;">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "methoden-http_servlet_request-anfrage-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#methoden-http_servlet_request-anfrage"
                                role          = "tab"
                                aria-controls = "methoden-http_servlet_request-anfrage"
                                aria-expanded = "true"
                            >
                                Werte aus der HTTP-Anfrage lesen
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "methoden-http_servlet_request-sonstige-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#methoden-http_servlet_request-sonstige"
                                role          = "tab"
                                aria-controls = "methoden-http_servlet_request-sonstige"
                            >
                                Sonstige Methoden
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "methoden-http_servlet_request-beispiel-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#methoden-http_servlet_request-beispiel"
                                role          = "tab"
                                aria-controls = "methoden-http_servlet_request-beispiel"
                            >
                                Beispiel
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "methoden-http_servlet_request-screenshot-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#methoden-http_servlet_request-screenshot"
                                role          = "tab"
                                aria-controls = "methoden-http_servlet_request-screenshot"
                            >
                                Screenshot
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Werte aus der HTTP-Anfrage lesen -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "methoden-http_servlet_request-anfrage"
                            role            = "tabpanel"
                            aria-labelledby = "methoden-http_servlet_request-anfrage-tab"
                        >
                            <source-code language="java">
                                public String getRequestURI()
                            </source-code>
                            <p style="margin-top: -0.5em; margin-bottom: 1em;">
                                Liefert den Pfad der URL, so wie er in der HTTP-Anfrage geschickt wurde. Der String
                                beinhaltet daher auch den Namen der Webanwendung, mit dem ja jeder URL beginnt (siehe
                                Screenshot).
                            </p>

                            <source-code language="java">
                                public String getQueryString()
                            </source-code>
                            <p style="margin-top: -0.5em; margin-bottom: 1em;">
                                Liefert die Anfrageparameter aus der URL oder <code>null</code>, falls die URL keine
                                Anfrageparameter enthält.
                            </p>

                            <source-code language="java">
                                public String getParameter(String name)
                            </source-code>
                            <p style="margin-top: -0.5em; margin-bottom: 1em;">
                                Liefert den Wert eines einzelnen Abfrageparameters aus der URL. Alternativ kann damit auch der
                                Wert eines Formularfelds ausgelesen werden, wenn ein HTML-Formular abgeschickt wurde.
                            </p>

                            <source-code language="java">
                                public String getHeader(String name)
                            </source-code>
                            <p style="margin-top: -0.5em">
                                Liefert den Wert eines einzelnen Header Fields aus der HTTP-Anfrage oder <code>null</code>,
                                wenn es das Feld nicht gibt.
                            </p>
                        </div>
                        <!-- Sonstige Methoden -->
                        <div
                            class           = "tab-pane fade show"
                            id              = "methoden-http_servlet_request-sonstige"
                            role            = "tabpanel"
                            aria-labelledby = "methoden-http_servlet_request-sonstige-tab"
                        >
                            <source-code language="java">
                                public HttpSession getSession()
                            </source-code>
                            <p style="margin-top: -0.5em; margin-bottom: 1em;">
                                Liefert den sogenannten <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpSession.html"
                                target="_blank">Session Kontext</a> zurück. Diesen kannst du als Notizblock nutzen 🗒️, um dir über eine
                                Anfrage hinaus benutzerspezifische Werte zu merken.
                            </p>

                            <source-code language="java">
                                public RequestDispatcher getRequestDispatcher(String URL)
                            </source-code>
                            <p style="margin-top: -0.5em">
                                Dieses Monster benötigen wir später, um die Bearbeitung einer HTTP-Anfrage an eine Java Server Page
                                weiterzugeben. 👾
                            </p>
                        </div>
                        <!-- Beispiel -->
                        <div
                            class           = "tab-pane fade"
                            id              = "methoden-http_servlet_request-beispiel"
                            role            = "tabpanel"
                            aria-labelledby = "methoden-http_servlet_request-beispiel-tab"
                        >
                            <source-code language="java">
                                /**
                                 * Dieses Beispiel zeigt den Aufruf einiger wichtiger Methoden
                                 * von HttpServletRequest.
                                 */
                                @WebServlet(urlPatterns = {"/"})
                                public class RequestMethodenServlet extends HttpServlet {

                                    /**
                                     * Wir haben eine GET-Anfrage empfangen.
                                     */
                                    @Override
                                    public void doGet(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        // Informationen aus der HTTP-Anfrage auslesen
                                        String uri = request.getRequestURI();
                                        String query = request.getQueryString();
                                        String vornameParameter = request.getParameter("vorname");
                                        String userAgent = request.getHeader("user-agent");

                                        // Antwort senden
                                        response.setContentType("text/plain");
                                        PrintWriter toClient = response.getWriter();

                                        toClient.println("Folgende Anfrage hast du geschickt");
                                        toClient.println("==================================");
                                        toClient.println("");
                                        toClient.println("URL: " + uri);
                                        toClient.println("Query String: " + query);
                                        toClient.println("Parameter vorname: " + vornameParameter);
                                        toClient.println("User Agent: " + userAgent);

                                        toClient.flush();
                                    }

                                }
                            </source-code>
                        </div>
                        <!-- Screenshot -->
                        <div
                            class           = "tab-pane fade"
                            id              = "methoden-http_servlet_request-screenshot"
                            role            = "tabpanel"
                            aria-labelledby = "methoden-http_servlet_request-screenshot-tab"
                        >
                            <img src="servlet_request_methoden.png" class="d-block" style="width: 100%" />
                        </div>
                    </div>
                </div>

                <h2>HttpServletResponse: Die HTTP-Antwort</h2>

                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "methoden-http_servlet_response-antwort-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#methoden-http_servlet_response-antwort"
                                role          = "tab"
                                aria-controls = "methoden-http_servlet_response-antwort"
                                aria-expanded = "true"
                            >
                                Werte in die Antwort schreiben
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "methoden-http_servlet_response-beispiel-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#methoden-http_servlet_response-beispiel"
                                role          = "tab"
                                aria-controls = "methoden-http_servlet_response-beispiel"
                            >
                                Beispiel
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Werte in die Antwort schreiben -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "methoden-http_servlet_response-antwort"
                            role            = "tabpanel"
                            aria-labelledby = "methoden-http_servlet_response-antwort-tab"
                        >
                            <source-code language="java">
                                public void setStatus(int code)
                                public void sendError(int code)
                            </source-code>
                            <p style="margin-top: -0.5em; margin-bottom: 1em;">
                                Setzt den Statuscode der HTTP-Antwort. Für jeden Statuscode gibt eine entsprechende Konstante,
                                zum Beispiel <code>response.SC_NOT_FOUND</code>. Im Gegensatz zu <code>setStatus()</code> schickt
                                <code>sendError()</code> die Antwort mit einer Standardfehlerseite sofort ab.
                            </p>

                            <source-code language="java">
                                public void sendRedirect(String url)
                            </source-code>
                            <p style="margin-top: -0.5em; margin-bottom: 1em;">
                                Sendet den Stautscode <tt>302 Redirect</tt> an den Browser und fordert ihn damit auf,
                                eine neue Seite zu laden.
                            </p>

                            <source-code language="java">
                                void setContentType(String type)
                            </source-code>
                            <p style="margin-top: -0.5em; margin-bottom: 1em;">
                                Setzt das Header Field <tt>content-type</tt>, um dem Browser mitzuteilen, welches
                                Format die zurückgelieferten Daten haben. Der Wert <tt>type</tt> muss einem gültigen
                                <a href="https://en.wikipedia.org/wiki/Media_type" target="_blank">MIME-Type</a> entsprechen.
                            </p>

                            <source-code language="java">
                                public PrintWriter getWriter()
                            </source-code>
                            <p style="margin-top: -0.5em">
                                Liefert einen <code>PrintWriter</code> zurück, mit dem der Response Body geschrieben werden kann.
                                <b>Wichtig:</b> Sobald du anfängst, etwas in den Datenstrom zu schreiben, kannst du keine anderen
                                Methoden von <code>HttpServletResponse</code> mehr aufrufen, da dadurch der Response Header
                                abgeschlossen wird.
                            </p>
                        </div>
                        <!-- Beispiel -->
                        <div
                            class           = "tab-pane fade"
                            id              = "methoden-http_servlet_response-beispiel"
                            role            = "tabpanel"
                            aria-labelledby = "methoden-http_servlet_response-beispiel-tab"
                        >
                            <source-code language="java">
                                /**
                                 * Dieses Beispiel leitet den Aufrufer immer an Google weiter.
                                 */
                                @WebServlet(urlPatterns = {"/"})
                                public class RedirectServlet extends HttpServlet {

                                    /**
                                     * Wir haben eine GET-Anfrage empfangen.
                                     */
                                    @Override
                                    public void doGet(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        response.sendRedirect("https://www.google.de");
                                    }

                                }
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Auf dieser Folie findest du eine Übersicht der wichtigsten Methoden rund um Servlets.
                    Natürlich ist die Übersicht nicht vollständig, es sind aber alle wesentlichen Methoden
                    dabei, die man so im Alltag benötigt. 🐪 Diese teilen sich dabei auf die folgenden
                    Klassen bzw. Interfaces auf:
                </p>
                <ul>
                    <li>
                        <b><tt>HttpServlet</tt>:</b> Das jeweilige Servlet selbst. Diese Methoden
                        kannst du überschreiben und mit eigenem Inhalt füllen.
                    </li>
                    <li>
                        <b><tt>HttpServletRequest</tt>:</b> Alles rund um die HTTP-Anfrage.
                    </li>
                    <li>
                        <b><tt>HttpServletResponse</tt>:</b> Alles rund um die HTTP-Antwort.
                    </li>
                </ul>
                <p>
                    Alle weiteren Methoden kannst du ja bei Bedarf in der
                    <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/package-summary.html" target="_blank">API-Dokumentation</a>
                    nachschlagen. 📚
                </p>
            </aside>
        </section>

        <section>
            <h1>Beispiel: Formulareingaben verarbeiten</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "formular-quellcode-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#formular-quellcode"
                                role          = "tab"
                                aria-controls = "formular-quellcode"
                                aria-expanded = "true"
                            >
                                Quellcode
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "formular-vorschau1-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#formular-vorschau1"
                                role          = "tab"
                                aria-controls = "formular-vorschau1"
                            >
                                Der erste Aufruf
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "formular-vorschau1-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#formular-vorschau2"
                                role          = "tab"
                                aria-controls = "formular-vorschau2"
                            >
                                Nachdem das Formular abgeschickt wurde
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Quellcode -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "formular-quellcode"
                            role            = "tabpanel"
                            aria-labelledby = "formular-quellcode-tab"
                        >
                            <source-code language="java">
                                import java.io.IOException;
                                import java.io.PrintWriter;
                                import javax.servlet.ServletException;
                                import javax.servlet.annotation.WebServlet;
                                import javax.servlet.http.HttpServlet;
                                import javax.servlet.http.HttpServletRequest;
                                import javax.servlet.http.HttpServletResponse;
                                import javax.servlet.http.HttpSession;

                                /**
                                 * Dieses Servlet zeigt, wie du Formulareingaben richtig behandelt werden.
                                 * Es zeigt, dass bei einer GET-Anfrage das Formular geschickt wird und
                                 * dieses seine Daten per POST an den Server schickt. Bei einer POST-Anfrage
                                 * müssen daher die Formulardaten ausgelesen und verarbeitet werden, woraufhin
                                 * der Browser durch einen Redirect zum Neuladen der Seite gezwungen wird.
                                 */
                                @WebServlet(urlPatterns = {"/formular/"})
                                public class FormularServlet extends HttpServlet{

                                    /**
                                     * GET-Anfrage: Liefert eine HTML-Seite mit einem Formular
                                     */
                                    @Override
                                    public void doGet(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        // Anfang der HTML-Seite
                                        response.setContentType("text/html");
                                        response.setCharacterEncoding("utf-8");

                                        PrintWriter toClient = response.getWriter();

                                        toClient.println("&lt;!DOCTYPE html&gt;");
                                        toClient.println("&lt;html&gt;");
                                        toClient.println("    &lt;head&gt;");
                                        toClient.println("        &lt;meta charset='utf-8' /&gt;");
                                        toClient.println("        &lt;title&gt;Hallo-Welt-Formular&lt;/title&gt;");
                                        toClient.println("    &lt;/head&gt;");
                                        toClient.println("    &lt;body&gt;");

                                        // Hier nun das eigentliche Formular
                                        toClient.println("        &lt;form method='POST'&gt;");
                                        toClient.println("            Wie heißt du?");
                                        toClient.println("            &lt;input name='vorname' type='text' /&gt;");
                                        toClient.println("            &lt;input type='submit' value='Abschicken' /&gt;");
                                        toClient.println("        &lt;/form&gt;");

                                        // Zuletzt eingegebener Vorname, falls vorhanden
                                        // Der Wert wird in der doPost()-Methode im Session Kontext abgelegt
                                        HttpSession session = request.getSession();
                                        String vorname = (String) session.getAttribute("vorname");

                                        if (vorname != null) {
                                            toClient.println("        &lt;p&gt;");
                                            toClient.println("            Hallo, " + vorname + "!");
                                            toClient.println("        &lt;/p&gt;");
                                        }

                                        // Abschluss der Seite
                                        toClient.println("    &lt;/body&gt;");
                                        toClient.println("&lt;/html&gt;");

                                        toClient.flush();
                                    }

                                    /**
                                     * POST-Anfrage: Verarbeitet die Formulareingaben und zwingt den Browser
                                     * danach, die Seite neuzuladen.
                                     */
                                    @Override
                                    public void doPost(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        // Eingebenen Vornamen auslesen
                                        String vorname = request.getParameter("vorname");

                                        // Vornamen im Session Kontext speichern
                                        HttpSession session = request.getSession();
                                        session.setAttribute("vorname", vorname);

                                        // Browser zwingen, die Seite mit einem GET neuzuladen
                                        response.sendRedirect(request.getRequestURI());
                                    }

                                }
                            </source-code>
                        </div>
                        <!-- Der erste Aufruf -->
                        <div
                            class           = "tab-pane fade"
                            id              = "formular-vorschau1"
                            role            = "tabpanel"
                            aria-labelledby = "formular-vorschau1-tab"
                        >
                            <p>
                                Der HTML-Code aus Sicht des Browsers nach dem ersten Aufruf. In den Entwicklerwerkzeugen
                                wurde nur eine <tt>GET</tt>-Anfrage aufgezeichnet.
                            </p>

                            <img src="formular_01.png" class="d-block img-responsive" style="margin-bottom: 1em;" />

                            <source-code language="html">
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset='utf-8' /&gt;
                                        &lt;title&gt;Hallo-Welt-Formular&lt;/title&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;form method='POST'&gt;
                                            Wie heißt du?
                                            &lt;input name='vorname' type='text' /&gt;
                                            &lt;input type='submit' value='Abschicken' /&gt;
                                        &lt;/form&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- Nachdem das Formular abgeschickt wurde -->
                        <div
                            class           = "tab-pane fade"
                            id              = "formular-vorschau2"
                            role            = "tabpanel"
                            aria-labelledby = "formular-vorschau2-tab"
                        >
                            <p>
                                Der neue HTML-Code aus Sicht des Browsers. In den Entwicklerwerkzeugen sieht man schön,
                                wie erst ein <tt>POST</tt> und dann ein <tt>GET</tt> an den Server gesendet wird.
                            </p>

                            <img src="formular_02.png" class="d-block img-responsive" style="margin-bottom: 1em;" />

                            <source-code language="html">
                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset='utf-8' /&gt;
                                        &lt;title&gt;Hallo-Welt-Formular&lt;/title&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;form method='POST'&gt;
                                            Wie heißt du?
                                            &lt;input name='vorname' type='text' /&gt;
                                            &lt;input type='submit' value='Abschicken' /&gt;
                                        &lt;/form&gt;
                                        &lt;p&gt;
                                            Hallo, Alf!
                                        &lt;/p&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Erinnerst du dich noch an das <a href="../3-javascript/grundlagen_dom/#25" target="_blank">Kontaktformular</a> aus dem JavaScript
                    DOM-Kapitel? 📰 Hier zeigen wir dir, wie Browser und Server in modernen Webanwendungen zusammenspielen, um die Inhalte
                    eines Formulars auszuwerten. Im Prinzip passiert dabei folgendes:
                </p>
                <ol>
                    <li>
                        Der Browser sendet eine <tt>GET</tt>-Anfrage und bekommt daraufhin eine HTML-Seite mit einem Formular.
                    </li>
                    <li>
                        Wird das Formular abgeschickt, sendet der Browser eine <tt>POST</tt>-Anfrage mit den eingegebenen Werten an den Server.
                    </li>
                    <li>
                        Der Server verarbeitet die Eingaben und bestätigt dies mit <tt>302 Redirect</tt>.
                    </li>
                    <li>
                        Als Folge daraus lädt der Browser die Seite mit einer weiteren <tt>GET</tt>-Anfrage neu.
                    </li>
                </ol>
                <p>
                    Dieses Vorgehen wird manchmal <a href="https://en.wikipedia.org/wiki/Post/Redirect/Get" target="_blank">Post-Redirect-Get</a>
                    genannt, nach dem Ablauf, was beim Abschicken des Formulars passiert. Um dies in Java nachzubauen brauchen wir daher ein
                    ein Servlet, das sowohl auf <tt>GET</tt> als auch <tt>POST</tt> reagiert:
                </p>
                <source-code language="java">
                    public class FormularServlet extends HttpServlet {
                        @Override
                        public void doGet(…) {
                            …
                        }

                        @Override
                        public void doPost(…) {
                            …
                        }
                    }
                </source-code>

                <h2>Der erste Aufruf der Seite</h2>
                <p>
                    In der <code>doGet()</code>-Methode senden wir eine einfache HTML-Seite mit einem kleinen Formular an den Browser.
                    Der Code ist zugegeben nicht sehr schön. Aber noch wissen wir nicht, wie wir das HTML in eine Java Server Page
                    auslagern können.
                </p>
                <source-code language="java">
                    // Hier nun das eigentliche Formular
                    toClient.println("  &lt;form method='POST'&gt;");
                    toClient.println("    Wie heißt du?");
                    toClient.println("    &lt;input name='vorname' type='text' /&gt;");
                    toClient.println("    &lt;input type='submit' value='Abschicken' /&gt;");
                    toClient.println("  &lt;/form&gt;");
                </source-code>
                <p>
                    Wie du siehst, besitzt das Formular das Attribut <src-code language="html">method='POST'</src-code>. Dadurch
                    wird sichergestellt, dass beim Abschicken des Formulars eine <tt>POST</tt>-Anfrage geschickt wird. Und zwar
                    an dieselbe URL, wie die Seite selbst, da dem Formular kein <code>action</code>-Attribut mir einer anderen
                    URL mitgegeben wurde. 🚣🏼
                </p>

                <h2>Post/Redirect/Get</h2>
                <p>
                    Die Verarbeitung der Formulareingaben erfolgt in <code>doPost()</code>. Zunächst wird dabei der eingegebene
                    Vorname aus den Formulardaten ausgelesen.
                </p>
                <source-code language="java">
                    String vorname = request.getParameter("vorname");
                </source-code>
                <p>
                    Eigentlich müsste man hier noch prüfen, ob der zurückgelieferte Wert ungleich <code>null</code> und ggf.
                    auch ungleich einem leeren String ist. Darauf verzichten wir hier jetzt aber. Anschließend wird der Wert
                    im Session Kontext abgelegt, so dass er auch bei späteren Anfragen noch verfügbar ist.
                </p>
                <source-code language="java">
                    HttpSession session = request.getSession();
                    session.setAttribute("vorname", vorname);
                </source-code>
                <p>
                    Das war's auch schon mit dem Verarbeiten der Eingaben. Zum Schluss wird der Browser daher zum Neuladen der
                    Seite aufgefordert. Hierfür muss die Anfrage mit dem Statuscode <tt>302 Redirect</tt> beantwortet werden,
                    wobei die aufzurufende URL im Header Field <tt>Location</tt> steht. Als kleine Abkürzung bietet uns Java
                    hierfür die <code>sendRedirect()</code>-Methode:
                </p>
                <source-code language="html">
                    response.sendRedirect(request.getRequestURI());
                </source-code>
                <p>
                    Natürlich ist es kein Muss, den Anwender wieder auf dieselbe Seite zu führen. Häufig beinhaltet das Formular
                    stattdessen ein <src-code language="html">&lt;input type="hidden" value="…"&gt;</src-code> mit der neuen
                    Zieladresse. In unserem Fall machen wir das jedoch nicht und verwenden als Zieladresse einfach die aktuelle
                    URL der Seite. Der Server führt deshalb nochmal die <code>doGet()</code>-Methode aus, findet dann im Session
                    Kontext allerdings den zuvor dort abgelegten Wert. Folgende <code>if</code>-Abfrage trifft daher dann zu:
                </p>
                <source-code language="java">
                    HttpSession session = request.getSession();
                    String vorname = (String) session.getAttribute("vorname");

                    if (vorname != null) {
                        toClient.println("  &lt;p&gt;");
                        toClient.println("    Hallo, " + vorname + "!");
                        toClient.println("  &lt;/p&gt;");
                    }
                </source-code>
                <p>
                    Dadurch wird dann beim zweiten Durchlauf der zuvor eingegebene Name angezeigt. 👋🏽
                </p>

                <h2>Überprüfung der Formulareingaben</h2>
                <p>
                    Was wir hier jetzt nicht gezeigt haben, ist wie der Server die Formulareingaben
                    überprüfen kann. Das Vorgehen dabei wäre aber ungefähr folgendes:
                </p>
                <p>
                    Zunächst einmal solltest du die Eingaben, <a href="../3-javascript/dom/#8" target="_blank">
                    wie im JavaScript/DOM-Kapitel gezeigt</a>, zunächst clientseitig überprüfen. Werden dabei fehlende
                    oder falsche Eingaben entdeckt, wird das Formular nicht abgeschickt.
                </p>
                <p>
                    Anschließend führt der Server in <code>doPost()</code> seine eigenen Prüfungen durch. Dabei darf
                    sich der Server unter keinen Umständen darauf verlassen, in irgend einer Form valide Daten vom
                    Browser empfangen zu haben. „Don't Trust The Client” lautet das Motto hier. Es müssen also alle
                    Prüfungen hier erneut durchgeführt werden. ❕
                </p>
                <p>
                    Sind die Eingaben okay, leitet der Server den Anwender auf die neue Zieladresse weiter. Sind die
                    Eingaben nicht okay, leitet der Server den Anwender stattdessen auf Seite mit dem Formular zurück.
                    Sämtliche Formulareingaben müssen dabei mit dem <code>value</code>-Attribut in das HTML übernommen
                    werden, damit sie nicht verloren gehen. Zum Beispiel so:
                </p>
                <source-code language="html">
                    &lt;input name="kundenname" type="Text" value="Klaus Kunde" /&gt;
                </source-code>
                <p>
                    Zusätzlich sollte natürlich eine aussagekräftige Fehlermeldung angezeigt werden.
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 5: Ein kleines Servlet-Quiz</h1>
            <article>
                <h2>Aufgabe 5.1: Grundlagen</h2>

                <p>
                    1. Wie werden Request Handler in Java allgemein genannt?
                </p>
                <ol>
                    <li>
                        HTTP Handler
                    </li>
                    <li>
                        Java Server Pages
                    </li>
                    <li>
                        Servlets
                    </li>
                </ol>

                <p>
                    2. Auf welche zwei Arten kann das URL-Routing in Java definiert werden?
                </p>
                <ol>
                    <li>
                        Mit der Annotation <code>@WebServlet</code>
                    </li>
                    <li>
                        Mit der Annotation <code>@UrlPatterns</code>
                    </li>
                    <li>
                        Im Konstruktor eines Servlets
                    </li>
                    <li>
                        In der Datei <tt>WEB-INF/web.xml</tt>
                    </li>
                </ol>

                <p>
                    3. Welchen Zweck erfüllen die Request Handler einer Webanwendung?
                </p>
                <ol>
                    <li>
                        Sie implementieren verschiedene Protokolle wie SFTP oder IMAP
                    </li>
                    <li>
                        Sie nehmen HTTP-Anfragen entgegen und erzeugen eine HTTP-Antwort
                    </li>
                    <li>
                        Sie verarbeiten die vom Server empfangene Daten mit JavaScript
                    </li>
                </ol>

                <p>
                    4. Welchen Zweck erfüllen Templates in einer Webanwendung
                </p>
                <ol>
                    <li>
                        Sie sollen die serverseitige Erzeugung von HTML-Code vereinfachen
                    </li>
                    <li>
                        Sie sollen die Verarbeitung komplexer HTTP-Anfragen ermöglichen
                    </li>
                    <li>
                        Sie dienen als Vorlage für neue Webanwendungen
                    </li>
                </ol>

                <p>
                    5. Was ist das Post/Redirect/Get-Pattern?
                </p>
                <ol>
                    <li>
                        Eine spezielles Kontaktformular auf einer Firmenwebseite
                    </li>
                    <li>
                        Ein empfohlenes Vorgehen bei der Weiterentwicklung alter Servletklassen
                    </li>
                    <li>
                        Ein Schema, wie Formulareingaben sinnvoll behandelt werden können
                    </li>
                </ol>

                <p>
                    6. Welche Aufgabe hat der Session Kontext
                </p>
                <ol>
                    <li>
                        Daten im Browser zwischenspeichern, um sie später an den Server zu schicken
                    </li>
                    <li>
                        Serverseitig je Benutzer bestimmte Daten über mehrere Anfragen hinweg zwischenspeichern
                    </li>
                    <li>
                        Serverseitig über alle Benutzer hinweg globale Daten zwischenspeichern
                    </li>
                </ol>

                <h2>Aufgabe 5.2: Wichtige Methoden</h2>

                <p>
                    1. Wie heißt die Methode eines Servlets, die auf alle HTTP-Anfragen reagiert?
                </p>
                <ol>
                    <li>
                        <code>doAll()</code>
                    </li>
                    <li>
                        <code>service()</code>
                    </li>
                    <li>
                        <code>handle()</code>
                    </li>
                </ol>

                <p>
                    2. Welche beiden Parameter bekommen die <code>do…</code>-Methoden eines Servlets übergeben?
                </p>
                <ol>
                    <li>
                        Ein <code>HttpRequest</code>- und ein <code>HttpResponse</code>-Objekt
                    </li>
                    <li>
                        Zwei Datenströme zum Lesen und Schreiben der HTTP-Anfrage bzw. Antwort
                    </li>
                    <li>
                        Ein <code>HttpServletResponse</code>- und ein <code>HttpServletRequest</code>-Objekt
                    </li>
                    <li>
                        Ein <code>HttpServletRequest</code>- und ein <code>HttpServletResponse</code>-Objekt
                    </li>
                </ol>

                <p>
                    3. Mit welcher Methode kann die angefragte URL ermittelt werden?
                </p>
                <ol>
                    <li>
                        <code>request.getRequestURI()</code>
                    </li>
                    <li>
                        <code>response.getRequestURI()</code>
                    </li>
                    <li>
                        <code>this.getRequest().getURI()</code>
                    </li>
                </ol>

                <p>
                    4. Mit welchen Methoden kann der Statuscode der HTTP-Antwort gesetzt werden?
                </p>
                <ol>
                    <li>
                        <code>response.setStatus()</code>
                    </li>
                    <li>
                        <code>response.sendError()</code>
                    </li>
                    <li>
                        <code>response.setStatusCode()</code>
                    </li>
                    <li>
                        <code>response.getResponse().setStatus()</code>
                    </li>
                </ol>

                <p>
                    5. Mit welcher Methode erhält man einen Datenstrom zum Schreiben des HTTP Response Body?
                </p>
                <ol>
                    <li>
                        <code>request.response.getWriter()</code>
                    </li>
                    <li>
                        <code>request.getInputStream()</code>
                    </li>
                    <li>
                        <code>response.setOutputStream()</code>
                    </li>
                    <li>
                        <code>response.getWriter()</code>
                    </li>
                    <li>
                        <code>response.getBodyStream()</code>
                    </li>
                </ol>

                <p>
                    6. Mit welcher Methode kann bekommt man Zugriff auf den Session Kontext?
                </p>
                <ol>
                    <li>
                        <code>this.getSessionContext()</code>
                    </li>
                    <li>
                        <code>this.getSession()</code>
                    </li>
                    <li>
                        <code>request.getSession()</code>
                    </li>
                    <li>
                        <code>request.session.get()</code>
                    </li>
                </ol>

                <hr />

                <p style="transform: scaleY(-1) scaleX(-1); display: inline-block;">
                    <small>
                        <b>Lösung:</b> Aufgabe 5.1: 3, 1+4, 2, 1, 3, 2. Aufgabe 5.2: 2, 4, 1, 1+2, 4, 3.
                    </small>
                </p>
            </article>
            <aside>
                <p>
                    Hast du dir bis hierhin alles gut merken können? Hier kommt Johny Kontrolletti,
                    um das zu überprüfen. 📋
                </p>
                <img src="../quiz.png" class="img-fluid d-block" style="max-width: 20em;"/>
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/illustrations/quiz-tiles-letters-red-game-test-2058883/" target="_blank">Pixabay: 905513</a>
                    </small>
                </p>
            </aside>
        </section>

        <section>
            <h1>Weiterleitung an eine Java Server Page</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "jsp-einfach-netbeans-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#jsp-einfach-netbeans"
                                role          = "tab"
                                aria-controls = "jsp-einfach-netbeans"
                                aria-expanded = "true"
                            >
                                NetBeans-Projekt
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "jsp-einfach-servlet-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#jsp-einfach-servlet"
                                role          = "tab"
                                aria-controls = "jsp-einfach-servlet"
                                aria-expanded = "true"
                            >
                                Servlet
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "jsp-einfach-jsp-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#jsp-einfach-jsp"
                                role          = "tab"
                                aria-controls = "jsp-einfach-jsp"
                            >
                                Java Server Page
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "jsp-einfach-css-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#jsp-einfach-css"
                                role          = "tab"
                                aria-controls = "jsp-einfach-css"
                            >
                                Stylesheet
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "jsp-einfach-ergebnis-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#jsp-einfach-ergebnis"
                                role          = "tab"
                                aria-controls = "jsp-einfach-ergebnis"
                            >
                                Ergebnis
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- NetBeans-Projekt -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "jsp-einfach-netbeans"
                            role            = "tabpanel"
                            aria-labelledby = "jsp-einfach-netbeans-tab"
                        >
                            <p>
                                So sieht das NetBeans-Projekt aus. Wenn du es nachbauen willst, musst du
                                exakt die Verzeichnisstruktur einhalten.
                            </p>
                            <img src="servlets_jsp_einfach_01.jpg" class="d-block" style="width: 100%" />
                        </div>
                        <!-- Servlet -->
                        <div
                            class           = "tab-pane fade show"
                            id              = "jsp-einfach-servlet"
                            role            = "tabpanel"
                            aria-labelledby = "jsp-einfach-servlet-tab"
                        >
                            <p>
                                Dies ist das Servlet, dass bei jeder <tt>GET</tt>- und <tt>POST</tt>-Anfrage durchlaufen wird.
                            </p>
                            <source-code language="java">
                                import java.io.IOException;
                                import java.text.DateFormat;
                                import java.text.SimpleDateFormat;
                                import java.util.Date;
                                import javax.servlet.RequestDispatcher;
                                import javax.servlet.ServletException;
                                import javax.servlet.annotation.WebServlet;
                                import javax.servlet.http.HttpServlet;
                                import javax.servlet.http.HttpServletRequest;
                                import javax.servlet.http.HttpServletResponse;
                                import javax.servlet.http.HttpSession;

                                /**
                                 * Dieses Servlet zeigt, wie die Erzeugung des HTML-Codes an eine Java Server
                                 * Page ausgelagert werden kann.
                                 */
                                @WebServlet(urlPatterns = {"/index.html"})
                                public class HalloServlet extends HttpServlet {

                                    @Override
                                    public void doGet(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        // Zwischenspeichern eines Wertes, den wir in der JSP anzeigen wollen
                                        // Die letzte Zeile ist die wichtige Zeile hier
                                        DateFormat dateFormat = new SimpleDateFormat("dd.MM.yyyy");
                                        Date date = new Date();
                                        String tagesdatum = dateFormat.format(date);

                                        request.setAttribute("tagesdatum", tagesdatum);

                                        // Anfrage an eine JSP weiterleiten, um damit den HTML-Code
                                        // der Seite zu generieren
                                        RequestDispatcher dispatcher = request.getRequestDispatcher("/WEB-INF/hallo.jsp");
                                        dispatcher.forward(request, response);

                                        // Werte im Session Kontext entfernen, damit wir beim nächsten mal
                                        // wieder von vorne anfangen
                                        HttpSession session = request.getSession();
                                        session.removeAttribute("vorname");
                                        session.removeAttribute("nachname");
                                    }

                                    @Override
                                    public void doPost(HttpServletRequest request, HttpServletResponse response)
                                    throws IOException, ServletException {
                                        // Eingegebene Werte auslesen
                                        String vorname = request.getParameter("vorname");
                                        String nachname = request.getParameter("nachname");

                                        // Werte im Session Kontext ablegen
                                        HttpSession session = request.getSession();
                                        session.setAttribute("vorname", vorname);
                                        session.setAttribute("nachname", nachname);

                                        // Und die Seite nochmal laden lassen
                                        response.sendRedirect(request.getRequestURI());
                                    }

                                }
                            </source-code>
                        </div>
                        <!-- Java Server Page -->
                        <div
                            class           = "tab-pane fade"
                            id              = "jsp-einfach-jsp"
                            role            = "tabpanel"
                            aria-labelledby = "jsp-einfach-jsp-tab"
                        >
                            <p>
                                Innerhalb des Servlets wird nun kein HTML-Code mehr erzeugt. Das macht die folgende JSP für uns. Die Datei muss <tt>WEB-INF/hallo.jsp</tt> heißen!
                            </p>
                            <source-code language="html">
                                &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
                                &lt;%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt;
                                &lt;%@taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%&gt;

                                &lt;!DOCTYPE html&gt;
                                &lt;html&gt;
                                    &lt;head&gt;
                                        &lt;meta charset="utf-8" /&gt;
                                        &lt;title&gt;Hallo, Welt!&lt;/title&gt;
                                        &lt;link rel="stylesheet" href="style.css" /&gt;
                                    &lt;/head&gt;
                                    &lt;body&gt;
                                        &lt;div class="container"&gt;
                                            &lt;!-- Eingabefelder, nur vor dem Abschicken anzeigen --&gt;
                                            &lt;c:if test="${vorname == null}"&gt;
                                                &lt;h1&gt;Wie heißt du?&lt;/h1&gt;

                                                &lt;form method="POST"&gt;
                                                    &lt;input name="vorname" type="text" placeholder="Vorname" /&gt;
                                                    &lt;input name="nachname" type="text" placeholder="Nachname" /&gt;
                                                    &lt;input type="submit" value="Abschicken" /&gt;
                                                &lt;/form&gt;
                                            &lt;/c:if&gt;

                                            &lt;!-- Begrüßung, nur nach dem Abschicken anzeigen --&gt;
                                            &lt;c:if test="${vorname != null}"&gt;
                                                &lt;h1&gt;Hallo, ${vorname} ${nachname}!&lt;/h2&gt;
                                                &lt;h2&gt;Sei gegrüßt!&lt;/h2&gt;

                                                &lt;a href=""&gt;Nochmal&lt;/a&gt;
                                            &lt;/c:if&gt;

                                            &lt;!-- Aktuelles Datum immer anzeigen --&gt;
                                            &lt;p&gt;
                                                &lt;small&gt;
                                                    Heute ist der ${tagesdatum}.
                                                &lt;/small&gt;
                                            &lt;/p&gt;
                                        &lt;/div&gt;
                                    &lt;/body&gt;
                                &lt;/html&gt;
                            </source-code>
                        </div>
                        <!-- Stylesheet -->
                        <div
                            class           = "tab-pane fade"
                            id              = "jsp-einfach-css"
                            role            = "tabpanel"
                            aria-labelledby = "jsp-einfach-css-tab"
                        >
                        <p>
                            Dieses mal gönnen wir uns auch ein Stylesheet, damit es ordentlich aussieht. Die Datei muss <tt>style.css</tt> heißen.
                        </p>
                        <source-code language="css">
                            html, body {
                                font-family: sans-serif;
                                font-size: 12pt;
                                height: 100%;

                                margin: 0;
                                padding: 0;
                            }

                            html {
                                background-image: url(https://picsum.photos/1024/?image=1067);
                                background-repeat: no-repeat;
                                background-position: center center;
                                background-size: cover;
                            }

                            body {
                                display: flex;
                                justify-content: center;
                                align-items: center;
                            }

                            .container {
                                background: rgba(255,255,255,0.8);
                                border-radius: 0.5em;
                                padding: 1em;
                                margin: 2em;
                            }

                            h1, h2 {
                                color: crimson;
                                text-shadow: 0 0 1px rgba(0,0,0,0.5);
                                margin: 0 0 0.5em 0;
                            }

                            h2 {
                                color: deepskyblue;
                            }

                            input[type="text"] {
                                display: block;
                                width: 25em;
                                box-sizing: border-box;
                                border: 1px solid grey;
                                margin-bottom: 0.5em;
                            }
                        </source-code>
                        </div>
                        <!-- Ergebnis -->
                        <div
                            class           = "tab-pane fade"
                            id              = "jsp-einfach-ergebnis"
                            role            = "tabpanel"
                            aria-labelledby = "jsp-einfach-ergebnis-tab"
                        >
                            <p>
                                Und so sieht die Anwendung aus, wenn sie fertig ist.
                            </p>
                            <img src="servlets_jsp_einfach_02.jpg" class="d-block" style="width: 100%; margin-bottom: 0.5em;" />
                            <img src="servlets_jsp_einfach_03.jpg" class="d-block" style="width: 100%;" />
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <h2>Änderungen am Servlet</h2>
                <p>
                    Aufbauend auf dem vorherigen Beispiel siehst du hier, wie die Erzeugung des
                    HTML-Codes an eine Java Server Page ausgelagert werden kann. Am Servlet
                    ändert sich hierfür nicht viel. Lediglich die ganzen Zeilen zum Senden des
                    HTML-Codes sind nun verschwunden und wurden doch folgenden Zweizeiler ersetzt:
                </p>
                <source-code language="java">
                    RequestDispatcher dispatcher = request.getRequestDispatcher("/WEB-INF/hallo.jsp");
                    dispatcher.forward(request, response);
                </source-code>
                <p>
                    Die Java Server Page liegt dabei im Verzeichnis <tt>/WEB-INF/</tt>, damit sie nicht
                    direkt im Browser aufgerufen werden kann. Denn sonst könnte der Anwender einfach die
                    URL <tt>/meine_app/hello.jsp</tt> eingeben und die Datei direkt aufrufen. Das wollen
                    wir hier aber nicht. Die JSP soll nur aus dem Servlet heraus aufrufbar sein. 🤸🏽
                </p>
                <p>
                    Der Rest ist im Prinzip gleich geblieben. Okay, außer dass es jetzt zwei Eingabefelder
                    sind. Aber das sollte dir ja keine Probleme machen. 🤓 Ach, und außerdem legen wir in
                    <code>doGet()</code> einen Wert in den <b>Request Kontext</b>, um ihn später in der JSP
                    (unserem Template) anzeigen zu können:
                </p>
                <source-code language="java">
                    String tagesdatum = …
                    request.setAttribute("tagesdatum", tagesdatum);
                </source-code>
                <p>
                    Der Unterschied vom Request Kontext zum Session Kontext ist dabei lediglich, dass die Daten
                    nur für die Dauer der Anfrage selbst aufgehoben werden. Danach verschwinden sie einfach wieder. 🗑️
                    Bitte unterliege dabei nicht dem Irrglauben, du könntest nur Strings im Request oder Session
                    Kontext ablegen. Tatsächlich kannst du jedes beliebige Objekt hinein schreiben. Also auch Arrays,
                    Listen, Maps und sonst alles, was Java so zu bieten hat.
                </p>

                <h2>Unsere neue Java Server Page</h2>
                <p>
                    Die Datei <tt>/WEB-INF/hallo.jsp</tt> übernimmt hier die Aufgabe unseres HTML-Templates.
                    Deshalb sieht sie überwiegend auch wie ganz normales HTML aus. Ein paar ungewöhnliche Zeilen
                    stechen dir dann aber sicher doch ins Auge. Zum Beispiel:
                </p>
                <source-code language="html">
                    &lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
                    &lt;%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt;
                    &lt;%@taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"%&gt;
                </source-code>
                <p>
                    Die erste Zeile hast du im letzten Kapitel schon mal gesehen. Sie legt fest, dass wir hier
                    HTML-Code mit dem Zeichensatz <tt>UTF-8</tt> generieren. Die anderen beiden Zeilen sind neu.
                    Sie binden zwei sogenannte <b>Tag Libraries</b> ein, wodurch uns unter Anderem das neue Element
                    <code>&lt;c:if&gt;</code> zur Verfügung steht. Dadurch bleibt uns der lästige Javacode in der
                    JSP erspart! 💰
                </p>
                <p>
                    Natürlich gibt es noch mehr neue Tags. Aber diese kannst du ja bei Bedarf einfach nachschlagen.
                    Zum Beispiel <a href="http://openbook.rheinwerk-verlag.de/javainsel9/javainsel_23_007.htm" target="_blank">hier</a>
                    oder <a href="https://www.javatpoint.com/jstl" target="_blank">hier</a>
                    oder <a href="https://www.tutorialspoint.com/jsp/jsp_standard_tag_library.htm" target="_blank">hier</a>.
                </p>
                <p>
                    Am Beispiel mit der <code>if</code>-Abfrage siehst du dann noch etwas anderes Interessantes:
                    Die sogenannte <b>JSP Expression Language</b>. Es handelt sich dabei um all die Ausdrücke,
                    die zwischen <code>${…}</code> stehen. Im einfachsten Fall werden damit nur die Werte aus dem
                    Request oder Session Kontext ausgegeben. Zum Beispiel so:
                </p>
                <ul>
                    <li>
                        <src-code language="html">${tagesdatem}</src-code>
                    </li>
                    <li>
                        <src-code language="html">${vorname}</src-code>
                    </li>
                    <li>
                        <src-code language="html">${nachname}</src-code>
                    </li>
                </ul>
                <p>
                    Es können aber auch komplexe Berechnungen ober Prüfungen angestellt werden, wie eben beim <code>if</code>.
                    Der Ausdruck <code>${vorname == null}</code> gibt deshalb wie erwartet ein Boolean zurück, dass wahr sein muss,
                    um den Inhalt zwischen <src-code language="html">&lt;c:if&gt;</src-code> und <src-code language="html">&lt;/c:if&gt;</src-code>
                    auszuführen.
                </p>

                <h2>Was noch alles geht</h2>
                <p>
                    Dies soll uns hier für einen ersten Einstieg in Servlets und JSP genügen. Immerhin hast du jetzt ein vollständiges Beispiel
                    zu dem Ablauf aus <a href="#2">Folie 2</a> gesehen.
                </p>
                <p>
                    Erinnerst du dich jetzt aber an das vorherige Kapitel zurück, fällt dir sicher ein, dass wir dort schon gezeigt haben,
                    wie der <a href="../http/#10" target="_blank">allgemeine HTML-Code in eine eigene JSP verlagert werden kann</a>. Diese
                    Möglichkeit besteht hier natürlich weiterhin. Wir wollten das Beispiel aber nicht noch komplizierter machen. 👺
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(231, 221, 141)">
            <h1>Aufgabe 6: Formularprüfungen ergänzen</h1>
            <article>
                <div>
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a
                                id            = "aufgabe3-beschreibung-tab"
                                class         = "nav-link active"
                                data-toggle   = "tab"
                                href          = "#aufgabe3-beschreibung"
                                role          = "tab"
                                aria-controls = "aufgabe3-beschreibung"
                                aria-expanded = "true"
                            >
                                Beschreibung
                            </a>
                        </li>
                        <li class="nav-item">
                            <a
                                id            = "aufgabe3-loesung-tab"
                                class         = "nav-link"
                                data-toggle   = "tab"
                                href          = "#aufgabe3-loesung"
                                role          = "tab"
                                aria-controls = "aufgabe3-loesung"
                            >
                                Lösung
                            </a>
                        </li>
                    </ul>
                    <div class="tab-content">
                        <!-- Beschreibung -->
                        <div
                            class           = "tab-pane fade show active"
                            id              = "aufgabe3-beschreibung"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe3-beschreibung-tab"
                        >
                            <h2>Aufgabe</h2>
                            <p>
                                Kopiere den Quellcode aus der vorherigen Folie in ein neues NetBeans-Projekt und
                                nimm folgende Änderungen daran vor:
                            </p>
                            <ul>
                                <li>
                                    Wie immer, lösche die von NetBeans automatisch erzeugte Datei <tt>index.html</tt>.
                                </li>
                                <li>
                                    Zunächst soll in <code>doPost()</code> geprüft werden, ob beide Felder ausgefüllt wurden.
                                </li>
                                <li>
                                    Sind die Eingaben okay, soll die bekannte Bestätigungsseite angezeigt werden.
                                </li>
                                <li>
                                    Fehlt eines der beiden Felder, soll das Formular mit einer Fehlermeldung stehen bleiben.
                                </li>
                                <li>
                                    Achte dabei darauf, dass die bisherigen Eingaben nicht verloren gehen!
                                </li>
                                <li>
                                    Eine Prüfung mit JavaScript soll nicht erfolgen. Diese sparen wir uns hier. 🙂
                                </li>
                            </ul>

                            <div class="container-fluid" style="margin-bottom: 1em;">
                                <div class="row">
                                    <div class="col-md-4">
                                        <img src="aufgabge_servlet_formular_01.jpg" class="d-block img-thumbnail" style="width: 100%" />
                                    </div>
                                    <div class="col-md-4">
                                        <img src="aufgabge_servlet_formular_02.jpg" class="d-block img-thumbnail" style="width: 100%" />
                                    </div>
                                    <div class="col-md-4">
                                        <img src="aufgabge_servlet_formular_03.jpg" class="d-block img-thumbnail" style="width: 100%" />
                                    </div>
                                </div>
                            </div>

                            <h2>Hinweise</h2>
                            <ul>
                                <li>
                                    Du musst ein Kennzeichen im Session Kontext ablegen, ob die Prüfung erfolgreich war.
                                </li>
                                <li>
                                    Wird ein Wert nicht gefunden, liefert die Expression Language immer <code>null</code> zurück.
                                </li>
                                <li>
                                    <p>
                                        Wenn du eine Liste mit Fehlermeldungen im Session Kontext hast, kannst du sie wie folgt ausgeben:
                                    </p>
                                    <source-code language="html">
                                        &lt;c:forEach items="${fehlermeldungen}" var="fehlermeldung"&gt;
                                            ${fehlermeldung}
                                        &lt;/c:forEach&gt;
                                    </source-code>
                                </li>
                            </ul>
                        </div>
                        <!-- Lösung -->
                        <div
                            class           = "tab-pane fade"
                            id              = "aufgabe3-loesung"
                            role            = "tabpanel"
                            aria-labelledby = "aufgabe3-loesung-tab"
                        >
                            <h2>doPost()-Methode im Servlet</h2>
                            <p>
                                Die neue <code>doPost()</code>-Methode sieht wie folgt aus. Neu hinzugekommen sind die
                                beiden Attribute <tt>fehlermeldungen</tt> und <tt>ergebnisAnzeigen</tt> im Session Kontext.
                            </p>
                            <source-code language="java">
                                @Override
                                public void doPost(HttpServletRequest request, HttpServletResponse response)
                                throws IOException, ServletException {
                                    // Eingegebene Werte auslesen
                                    List&lt;String&gt; fehlermeldungen = new ArrayList&lt;&gt;();

                                    String vorname = request.getParameter("vorname");
                                    String nachname = request.getParameter("nachname");

                                    if (vorname == null || vorname.isEmpty()) {
                                        fehlermeldungen.add("Gib erst einen Vornamen ein");
                                    }

                                    if (nachname == null || nachname.isEmpty()) {
                                        fehlermeldungen.add("Gib erst einen Nachnamen ein");
                                    }

                                    // Werte im Session Kontext ablegen
                                    HttpSession session = request.getSession();
                                    session.setAttribute("vorname", vorname);
                                    session.setAttribute("nachname", nachname);
                                    session.setAttribute("fehlermeldungen", fehlermeldungen);
                                    session.setAttribute("ergebnisAnzeigen", fehlermeldungen.isEmpty());

                                    // Und die Seite nochmal laden lassen
                                    response.sendRedirect(request.getRequestURI());
                                }
                            </source-code>

                            <h2>Java Server Page</h2>
                            <p>
                                Die Java Server Page muss wie folgt angepasst werden:
                            </p>
                            <source-code language="html">
                                &lt;!-- Eingabefelder, nur vor dem Abschicken anzeigen --&gt;
                                &lt;c:if test="${ergebnisAnzeigen != true}"&gt;
                                    &lt;h1&gt;Wie heißt du?&lt;/h1&gt;

                                    &lt;form method="POST"&gt;
                                        &lt;input name="vorname" type="text" placeholder="Vorname" value="${vorname}" /&gt;
                                        &lt;input name="nachname" type="text" placeholder="Nachname" value="${nachname}" /&gt;
                                        &lt;input type="submit" value="Abschicken" /&gt;
                                    &lt;/form&gt;

                                    &lt;ul class="error"&gt;
                                        &lt;c:forEach items="${fehlermeldungen}" var="fehlermeldung"&gt;
                                            &lt;li&gt;${fehlermeldung}&lt;/li&gt;
                                        &lt;/c:forEach&gt;
                                    &lt;/ul&gt;
                                &lt;/c:if&gt;

                                &lt;!-- Begrüßung, nur nach dem Abschicken anzeigen --&gt;
                                &lt;c:if test="${ergebnisAnzeigen == true}"&gt;
                                    …
                                &lt;/c:if&gt;
                            </source-code>

                            <h2>Stylesheet</h2>
                            <p>
                                Im Stylesheet muss eine neue Klasse für Fehlermeldungen definiert werden:
                            </p>
                            <source-code language="css">
                                .error {
                                    color: red;
                                    font-weight: bold;
                                }
                            </source-code>
                        </div>
                    </div>
                </div>
            </article>
            <aside>
                <p>
                    Zum Abschluss das Kapitels gibt es hier nochmal eine kleine Knobelaufgabe für dich.
                    Es geht darum, das eben gezeigte Beispiel um eine Eingabeprüfung zu erweitern. 📨
                </p>
                <img src="../github_atom.png" class="img-fluid d-block"/>
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://atom.io/" target="_blank">Atom Webseite</a>
                    </small>
                </p>
            </aside>
        </section>

        <!--
            ====================
            HINWEISE ZUM SCHLUSS
            ====================
        -->
        <section data-chapter data-background-image="../trennfolie.jpg">
            <h1>Hinweise zum Schluss</h1>
            <article>
                <small>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/adult-break-business-caucasian-2398561/" target="_blank">Pixabay: rawpixel</a>
                    </small>
                </small>
            </article>
        </section>

        <section data-background-color="rgb(153, 190, 137)">
            <h1>Do &amp; Don't</h1>
            <article>
                <h4>Allgemeine Hinweise</h4>
                <ul>
                    <li>
                        Nimm dir die Zeit, die wichtigsten HTTP-Befehle und Statuscodes zu lernen. Du brauchst sie immer wieder.
                    </li>
                    <li>
                        Nutze die Netzwerkanalyse deines Browsers, um lange Ladezeiten zu untersuchen und zu optimieren.
                    </li>
                    <li>
                        Simuliere dabei auch den Seitenaufbau über eine sehr langsame Internetverbindung.
                    </li>
                    <li>
                        Lerne den Umgang mit kommandozeilenbasierten HTTP-Clients wie
                        <a href="https://www.gnu.org/software/wget/" target="_blank">wget</a>,
                        <a href="https://curl.haxx.se/" target="_blank">curl</a> oder
                        <a href="https://httpie.org/" target="_blank">httpie</a>.
                    </li>
                    <li>
                        Nutze Benchmarking-Tools wie <a href="https://locust.io/" target="_blank">Locust</a>,
                        um die Leistung deines Servers zu überwachen.
                    </li>
                    <li>
                        Schreibe möglichst viele Unit Tests und lasse sie auf einem
                        <a href="https://en.wikipedia.org/wiki/Continuous_integration" target="_blank">CI-Server</a>
                        automatisch nach jedem Commit laufen.
                    </li>
                    <li>
                        Wenn du noch keine Versionsverwaltung wie
                        <a href="https://git-scm.com/" target="_blank">git</a> oder
                        <a href="https://www.mercurial-scm.org/" target="_blank">mercurial</a> nutzt,
                        ist jetzt ein guter Zeitpunkt, damit anzufangen.
                    </li>
                </ul>

                <h4>Java gegen den Rest der Welt</h4>
                <ul>
                    <li>
                        Schaue dich nach Alternativen um, wenn du keine Cloud oder keinen leistungsstarken Server zur Verfügug hast.
                    </li>
                    <li>
                        <a href="https://www.djangoproject.com/" target="_blank">Django</a> (Python),
                        <a href="http://flask.pocoo.org/" target="_blank">Flask</a> (Python),
                        <a href="http://expressjs.com/de/" target="_blank">express.js</a> (node.js) oder
                        <a href="https://rubyonrails.org/" target="_blank">Ruby-on-Rails</a>
                        benötigen viel weniger Leistung.
                    </li>
                    <li>
                        Jeder versteht unter MVC etwas anderes, am Ende vom Tag meinen sie aber alle dasselbe.
                    </li>
                    <li>
                        Strukturiere den serverseitigen Code daher immer nach dem MVC-Prinzip wie hier gezeigt.
                    </li>
                </ul>

                <h4>Besonderheiten von Java</h4>
                <ul>
                    <li>
                        In Java wirst du um
                        <a href="https://www.wpvs.de/vertsys/2-javaee/ejb/" target="_blank">Enterprise Java Beans</a>
                        und die
                        <a href="https://www.wpvs.de/vertsys/2-javaee/jpa/" target="_blank">Java Persistence API</a>
                        nicht herum kommen.
                    </li>
                    <li>
                        Verschiebe alle JSP-Dateien in das <tt>WEB-INF</tt>-Verzeichnis, um sie vor fremden Zugriffen zu schützen.
                    </li>
                    <li>
                        Generiere niemals HTML-Code direkt aus einem Servlet heraus. Rufe immer ein Template hierfür auf.
                    </li>
                    <li>
                        Lass deine Servlets aber gerne andere Datenformate wie CSV, JSON oder PDF generieren und zurückgeben.
                    </li>
                    <li>
                        Nutze die Möglichkeiten von Java Server Pages, um Templates für ein einheitliches Seitenlayout zu realisieren.
                    </li>
                    <li>
                        Nutze <a href="https://de.wikipedia.org/wiki/JavaServer_Faces" target="_blank">Java Server Faces</a>,
                        oder ein anderes Java-Framework, wenn dir Servlets und JSP zu old-school sind.
                    </li>
                    <li>
                        Viele Entwickler schwören auf
                        <a href="https://spring.io/" target="_blank">Spring</a> und
                        <a href="https://spring.io/projects/spring-boot" target="_blank">Spring Boot</a>.
                        Das ist aber letztlich Geschmackssache.
                    </li>
                    <li>
                        Benutze niemals interne APIs deines Applikationsservers, wenn es nicht unbedingt erforderlich ist.
                    </li>
                    <li>
                        Nutze Werkzeuge wie
                        <a href="https://maven.apache.org/" target="_blank">Maven</a> oder
                        <a href="http://ant.apache.org/" target="_blank">Ant</a> und
                        <a href="http://ant.apache.org/ivy/" target="_blank">Ivy</a>,
                        um Abhängigkeiten zu verwalten und den Build zu automatisieren.
                    </li>
                    <li>
                        <a href="https://www.eclipse.org/jetty/" target="_blank">Jetty</a>
                        eignet sich hervorragend als eingebetteter Webcontainer.
                    </li>
                    <li>
                        Nutze die Werkzeuge deiner IDE. Sie kann mehr, als auf den ersten Blick ersichtlich ist.
                    </li>
                    <li>
                        Unserer Erfahrung nach ist der Einstieg mit
                        <a href="https://netbeans.apache.org/" target="_blank">NetBeans</a>
                        am einfachsten, da bereits alles vorkonfiguriert ist.
                    </li>
                </ul>
            </article>
            <aside>
                <p>
                    Hier ist er: Der Stein der Weisen. 💎 Auf dieser Folie haben wir ein paar allgemeine
                    Tipps gesammelt, die sich in der Praxis immer wieder bewährt haben.
                </p>
                <img src="../do-dont.svg" class="d-block" style="width: 20em; max-width: 100%; margin-bottom: 0.5em;" />
                <p>
                    <small>
                        Bildnachweis:
                        <a href="https://pixabay.com/en/dialog-tip-advice-hint-speaking-148815/" target="_blank" style="color: rgb(25, 68, 49);">Pixabay: OpenClipart-Vectors</a>
                    </small>
                </p>
            </aside>
        </section>

        <section data-background-color="rgb(158, 203, 231)">
            <h1>Rechtshinweise</h1>
            <article>
                <h4>Creative Commons Namensnennung 4.0 International</h4>
                <ul>
                    <li>Beliebiges Teilen ist erlaubt</li>
                    <li>Die Unterlagen dürfen bearbeitet und verändert werden</li>
                    <li>Wenn die Namens- und Urheberangaben erhalten bleiben</li>
                    <li>Und keine weiteren Einschränkungen auferlegt werden</li>
                </ul>
                <span style="font-size: 400px; color: white;" class="dhbw-text-shadow" >§</span>
            </article>
            <aside style="font-size: 80%">
                <h4>Kontaktdaten</h4>
                <p>
                    Dennis Schulmeister-Zimolong<br/>
                    E-Mail: <a data-email-address>dhbw windows3.de</a><br/>
                </p>

                <h4>Urheberrecht und Lizenzvereinbarung</h4>
                <p>
                    © 2017 – 2020 Dennis Schulmeister-Zimolong im Auftrag der DHBW Karlsruhe<br/>
                    <a href="https://github.com/DennisSchulmeister/dhbwka-wwi-webprog-folien" target="_blank">https://github.com/DennisSchulmeister/dhbwka-wwi-webprog-folien</a>
                </p>
                <img src="https://i.creativecommons.org/l/by/4.0/88x31.png" alt="Creative Commons Lizenzvertrag" />
                <p>
                    Das Werk <i>Vorlesung "Webprogrammierung" im Studiengang Wirtschaftsinformatik an der DHBW Karlsruhe</i>
                    von <a href="http://www.wpvs.de" target="_blank">Dennis Schulmeister-Zimolong im Auftrag der Dualen Hochschule
                    Baden-Württemberg Karlsruhe</a> ist lizenziert unter
                    <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank"><i>Creative Commons Namensnennung 4.0 International</i></a>.
                </p>
                <p>
                    Du darfst:
                </p>
                <ul>
                    <li>
                        <b>Teilen</b> — das Material in jedwedem Format oder Medium vervielfältigen
                        und weiterverbreiten
                    </li>
                    <li>
                        <b>Bearbeiten</b> — das Material remixen, verändern und darauf aufbauen
                        und zwar für beliebige Zwecke, sogar kommerziell.
                    </li>
                </ul>
                <p>
                    Unter folgenden Bedingungen:
                </p>
                <ul>
                    <li>
                        <b>Namensnennung</b> — Du musst angemessene Urheber- und Rechteangaben
                        machen, einen Link zur Lizenz beifügen und angeben, ob Änderungen
                        vorgenommen wurden. Diese Angaben dürfen in jeder angemessenen Art
                        und Weise gemacht werden, allerdings nicht so, dass der Eindruck
                        entsteht, der Lizenzgeber unterstütze gerade dich oder deine Nutzung
                        besonders.
                    </li>
                    <li>
                        <b>Keine weiteren Einschränkungen</b> — Du darfst keine zusätzlichen Klauseln
                        oder technische Verfahren einsetzen, die anderen rechtlich irgendetwas
                        untersagen, was die Lizenz erlaubt.
                    </li>
                </ul>
                <p>
                    Es werden keine Garantien gegeben und auch keine Gewähr geleistet.
                    Die Lizenz verschafft dir möglicherweise nicht alle Erlaubnisse,
                    die du für die jeweilige Nutzung brauchst. Es können beispielsweise
                    andere Rechte wie Persönlichkeits- und Datenschutzrechte zu beachten
                    sein, die deine Nutzung des Materials entsprechend beschränken.
                </p>
                <p>
                    <i>
                        Die Erstellung dieser Unterlagen wurde in den Jahren 2017 und 2018 durch
                        das Projekt „DigiTransMoBiL – Gestaltungskompetenzen für die Digitale
                        Transformation durch Modulbausteine mit innovativen Lehrinhalten und
                        Lehrmethoden” gefördert.
                    </i>
                </p>
            </aside>
        </section>
    </body>
</html>
